<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Binary Tree</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5573. Binary Tree</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The Old Frog King lives on the root of an infinite tree. According to the law, each node should connect to exactly two nodes on the next level, forming a full binary tree.<br><br>Since the king is professional in math, he sets a number to each node. Specifically, the root of the tree, where the King lives, is $1$. Say $f_{root} = 1$.<br><br>And for each node $u$, labels as $f_u$, the left child is $f_u \times 2$ and right child is $f_u \times 2 + 1$. The king looks at his tree kingdom, and feels satisfied.<br><br>Time flies, and the frog king gets sick. According to the old dark magic, there is a way for the king to live for another $N$ years, only if he could collect exactly $N$ soul gems.<br><br>Initially the king has zero soul gems, and he is now at the root. He will walk down, choosing left or right child to continue. Each time at node $x$, the number at the node is $f_x$ (remember $f_{root} = 1$), he can choose to increase his number of soul gem by $f_x$, or decrease it by $f_x$.<br><br>He will walk from the root, visit exactly $K$ nodes (including the root), and do the increasement or decreasement as told. If at last the number is $N$, then he will succeed.<br><br>Noting as the soul gem is some kind of magic, the number of soul gems the king has could be negative.<br><br>Given $N$, $K$, help the King find a way to collect exactly $N$ soul gems by visiting exactly $K$ nodes.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">First line contains an integer $T$, which indicates the number of test cases.<br><br>Every test case contains two integers $N$ and $K$, which indicates soul gems the frog king want to collect and number of nodes he can visit.<br><br>$\cdot$ $1 \leq T \leq 100$.<br><br>$\cdot$ $1 \leq N \leq 10^9$.<br><br>$\cdot$ $N \leq 2^K \leq 2^{60}$.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For every test case, you should output &quot;<b>Case #x:</b>&quot; first, where $x$ indicates the case number and counts from $1$.<br><br>Then $K$ lines follows, each line is formated as 'a b', where $a$ is node label of the node the frog visited, and $b$ is either '+' or '-' which means he increases / decreases his number by $a$.<br><br>It's guaranteed that there are at least one solution and if there are more than one solutions, you can output any of them.<br><br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
5 3
10 4</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
1 +
3 -
7 +
Case #2:
1 +
3 +
6 -
12 +</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2015ACM%2FICPC%D1%C7%D6%DE%C7%F8%C9%CF%BA%A3%D5%BE-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%BB%AA%B6%AB%C0%ED%B9%A4%A3%A9&source=1&searchmode=source"> 2015ACM/ICPC亚洲区上海站-重现赛（感谢华东理工） </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>