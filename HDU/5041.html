<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Just A Challenge</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5041. Just A Challenge</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：20000/10000 MS (Java/Others)</span> <span class="ui label">时间限制：262144/262144 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   Matt receives a gift from his friend Bobo. It is a tree which has N vertices and (N - 1) edges with single character. Yes, it is the tree in computer science.<br><br>   Matt denotes the number of edges between vertices a and b as d(a, b). The string obtained by concatenating all characters from a to b is defined as s(a, b). <br><br>   Given string L and R of length M, Matt would like to know the number of (a, b) s.t.<br><br>   ● d(a, b) = M,<br>   ● L&lt;=s(a, b)&lt;=R.<br><br>   where &quot;&lt;=&quot; means lexicographical comparision.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   The first line of the input contains an integer T, denoting the number of testcases. Then T test cases follow.<br><br>   For each test case, the first line contains two integers N (2&lt;=N&lt;=10^5) and M (1&lt;=M&lt;N).<br><br>   Each of the following (N - 1) lines contains a<sub>i</sub>, b<sub>i</sub>, c<sub>i</sub> denoting an edge between vertex a<sub>i</sub> and b<sub>i</sub> with character c<sub>i</sub> (1&lt;=a<sub>i</sub>, b<sub>i</sub>&lt;=n).The vertices are conveniently labled with 1, 2,……, n. c<sub>i</sub> is either 'a' or 'b'.<br><br>   The last two lines contain string L and R (|L| = |R| = M, L&lt;=R). L and R consist of 'a' and 'b'. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   For each test case, output one line &quot;Case #x: y&quot;, where x is the case number (starting from 1), y is the number of (a, b).</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
2 1
1 2 a
a
b
4 2
1 2 a
2 3 b
3 4 a
aa
ab</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: 2
Case #2: 2

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>Please use  #pragma comment(linker, "/STACK:16777216")</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014+ACM%2FICPC+Asia+Regional+Beijing+Online&source=1&searchmode=source"> 2014 ACM/ICPC Asia Regional Beijing Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>