<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Resistors</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3429. Resistors</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Every electrical appliance (such as a light bulb) has a certain resistance. If the appliance is connected to a given voltage, the higher its resistance, the lower the current flowing through the appliance. The unit of measurement for resistance is the ohm. In order to avoid round-off errors that can affect floating-point numbers, we will use rational numbers (quotients of positive integers) to represent the resistance of an appliance numerically. There are two basic ways to connect two or more appliances into a configuration of<br>appliances: serially (Figure 1) or parallel (Figure 2). Two or more configurations can be further connected serially or parallel to yield another<br>(more complex) configuration yet, and this process of building more complex configurations from existing ones can be repeated any number of times (Figure 3). In general, a configuration is either a single appliance, or a serial connection of two or more configurations, or a parallel connection of two or more configurations. The resistance of a configuration of resistors can be computed according to the following<br>two rules:<br>1. The resistance of a serial configuration is the sum of the resistances of its component<br>configurations.<br>2. The resistance of a parallel configuration is the reciprocal of the sum of the<br>reciprocals of its component configurations.<br><center><img style='max-width:100%;' src=./data/images/C296-1006-1.jpg></center><center><br>In Figure 1, the resistance of the configuration is 3/2 + 3/4 + 1/4 = 5/2 ohm.In Figure 2, the resistance of the configuration is 1/(1/(3/2) + 1/(1/2) + 1/ (1/4)) = 3/20 ohm<br><img style='max-width:100%;' src=./data/images/C296-1006-2.jpg></center> <br>In Figure 3, we first calculate 1/(1/(1/2) + 1/(2/3)) + 2/5 = 24/35 and 1/2 + 1/(1/(2/3) + 1/(2/5)) + 3/2 = 9/4. Adding the reciprocals of these two values and reciprocating the result, we get 72/137 ohm.<br>A configuration can be represented in text format.<br><br>    *A single appliance is represented by the numerical value of its resistance (without enclosing parentheses).<br>    *A configuration that is the serial connection of several configurations is represented as a list of the representations of its components, separated by the ampersand character (&quot;&amp;&quot;) and enclosed in a pair of parentheses.<br>    *A configuration that is the parallel connection of several configurations is represented as a list of the representations of its components, separated by the vertical bar character (&quot;|&quot;) and enclosed in a pair of parentheses.<br><br>Thus, figures 1, 2, and 3 are represented in text format by the respective expressions:<br><br>(3/2 &amp; 3/4 &amp; 1/4)<br>(3/2 | 1/2 | 1/4)<br>(((1/2 | 2/3) &amp; 2/5) | (1/2 &amp; (2/3 | 2/5) &amp; 3/2))</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input consists of a number of test cases, one test case per line. Each line of the input contains a valid expression that defines a configuration according to the rules stated above. The resistance values of the appliances will be positive rational numbers, in the form NUMERATOR/DENOMINATOR. There will be one blank space on each side of every ampersand or vertical bar. There will be no other blank spaces in the expression.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, print the resistance of the configuration on a new line, in the form NUMERATOR/DENOMINATOR, with all common factors of NUMERATOR and DENOMINATOR cancelled. Do not print any blank spaces.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">15/1
(3/2 & 3/4 & 1/4)
(3/2 | 1/2 | 1/4)
((1/2 | 2/3) & 2/5)
(1/2 & (2/3 | 2/5) & 3/2)
(((1/2 | 2/3) & 2/5) | (1/2 & (2/3 | 2/5) & 3/2))</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">15/1
5/2
3/20
24/35
9/4
72/137</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=Rocky+Mountain+Regional+Contest+2009&source=1&searchmode=source"> Rocky Mountain Regional Contest 2009 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>