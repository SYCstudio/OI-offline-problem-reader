<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>jvjhfhg loves Magic Tower</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5998. jvjhfhg loves Magic Tower</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：5000/2500 MS (Java/Others)</span> <span class="ui label">时间限制：131072/131072 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Jvjhfhg is a pupil who loves a flash game called &quot;Magic Tower&quot;. He always searches for various &quot;Magic Towers&quot;.<br>  <br>  Jvjhfhg finds a game called &quot;Magic Tower - Step the Lamps&quot;.<br>  <br>  In an $n \times m$ map($m$ is an odd number) where the first coordinate on the first line is $(1, 1)$ and the last coordinate on the last line is $(n, m)$, there's a &quot;lamp&quot; on every checker, which has two mode: on and off. At first, all &quot;lamps&quot; are switched OFF. Jvjhfhg sets off from a special checker $(0, \frac{(m + 1)}{2})$ which as well as $(n + 1, \frac{(m + 1)}{2})$ has no &quot;lamp&quot;. Of course stepping on these two checkers is available. When Jvjhfhg goes onto a has-lamp checker whose coordinate is $(x, y)$, the mode of the light of the checker, as well as those of the lights of $k + 1$ checker, namely $(x + x_1, y + y_1),(x + x_2, y + y_2),\cdots ,(x + x_k, y + y_k)$, will alter. When all the &quot;lamps&quot; are on, the game ends. The author found that the game is so effortless when many checkers can only alter its own if the sum of ${x}_{i}$ and ${y}_{i}$ is too large or the map is too small, so he sets: $|xi| + |yi| \leq 5$ and $n,m \geq 5$.<br>  <br>  Jvjhfhg completes the game soonly, but he's still wondering how many paths can end the game. He finds that there could be infinite possibilities, so he decides that if all with-lamp checkers are passed for the number of times of same parities in two paths, these two paths are counted as one.<br>  <br>  **Print the answer modulo ${10}^{9}+7$.**<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line contains an integer $T$ denoting the number of cases.<br>  <br>  For each case, the first line contains three integers $n,m,k$,while $m$ is odd.<br>  <br>  The next $k$ lines each contains two integers $x_i,y_i$. Data ensures that $|xi| + |yi| \leq 5$.<br>  <br>  $1 \leq T \leq 5$, $5 \leq n, m \leq 100$, $1 \leq k \leq 10$</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each case, print a single line with an integer denoting the answer.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
5 5 4
-1 0
1 0
0 1
0 -1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">4</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=BestCoder+Round+%2390&source=1&searchmode=source"> BestCoder Round #90 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>