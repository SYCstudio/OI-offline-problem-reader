<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Astrolabe</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4040. Astrolabe</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">As we all know, astrology speaks of zodiac times to times.<br>Astrology is a knowledge of stars and mysticism. Its object is many types of astrolabic charts that indicate the astronomical situations of a certain time and position. <br>Among astrology there are mainly about 3 branches of it, namely Natal Astrology, Forecast Astrology and Horary Astrology.<br>In this problem we will talk about Natal Astrology, which is use to analyze and foresee one's soul, and do something to benefit him or her on destiny in advance.<br><br>Of course astrology is much different from the usually talked 12 signs of zodiac that just to entertain people.<br><br>Basically, there are five kinds of essential factors in analyzing.<br><br>1. Stars:<br>In the charts there are mainly 10 major stars (although there are also some very important asteroids, but here we don't have to concern about them), namely:<br>the Sun <br>the Moon<br>the Mercury<br>the Venus<br>the Mars<br>the Jupiter<br>the Saturn<br>the Uranus<br>the Neptune<br>the Pluto<br><br>2. Signs:<br>As you know, the signs are the 12 constellations in zodiac that we usually talk about in daily life, namely in order:<br>Aries<br>Taurus<br>Gemini<br>Cancer<br>Leo<br>Virgo<br>Libra<br>Scorpio<br>Sagittarius<br>Capricorn<br>Aquarius<br>Pisces<br><br>You can see the picture below to get more details about that.<br>The outer ring shows the 12 constellations in zodiac that circle in order.<br>Each star is represented by a small unique logo on the chart.<br>And the lines between each two stars are the so-called aspects that will be explained below:<br><center><img style='max-width:100%;' src=./data/images/4040-1.png></center> <br>3. Phases:<br>An astrolabic chart has all the 12 signs that lie in circle one by one on the boundary, and each one will have a range of 30 degrees.<br>So, in common, that's a range of 360 degrees, a circle surrounds the charts.<br>We will take the plane-zodiac, and project the 10 stars onto it, then we choose geocentric (the center of earth) as the center, and zoom each distances between the 10 stars and the center to make them the same, thus we will have the 10 stars on the boundary of the charts.<br>So, each star will lies in a certain degree of the charts.<br>For example, in the charts of September 23rd, the Sun will lies between Libra's 0 degree and it's 1 degree(Libra starts from that day).<br>However, the terms of orbit of each star aren't same, and the velocity of a star isn't same at different times.<br><br>4. Aspects:<br>The two stars' phases may have some special relation if the difference between them is special.<br>For example, if the 2 stars lie in a same position, their difference is 0 degree, this is a important aspect called Conjunct.<br>And if the 2 stars' phases are 120 degree in difference, also an important aspect called Trine is between them.<br>There are many classical aspects in the astrology, but mainly 5 of them if we make it simple, namely:<br>0 degree -- Conjunct<br>60 degree -- Sextile<br>90 degree -- Square<br>120 degree -- Trine<br>180 degree -- Opposite<br>There meanings are according to the explanation above of Conjunct and Trine respectively.<br>But for most astrolabes, the differences between each pairs of stars are not that accurate, so small deviations are permissible.<br>And in this problem, we assume that Conjunct can tolerate a deviation of at most 5 degrees, 4 for Trine, 4 for Square, 3 for Opposite and 3 for Sextile.<br><br>5 .Rise, Fall, Exalt &amp; Debilitate<br>Each sign has their unique meaning, and different stars lying on different signs will have different efficient, sometimes good, sometimes bad in general.<br>There are mainly 4 specials, namely Rise, Fall, Exalt &amp; Debilitate. <br>Rise means the star's power will be strongen in this sign, and Fall means its power will be weaken in this sign vice versa.<br>Exalt means the star will act well in this sign, and Debilitate vice versa means it'll act ill in this sign.<br>Of course, to each star some signs are just normal for it, so there won't be any special efficient for it when it's on those signs.<br>A fact that must be shown to you is that, each star Rise and Fall in opposite signs, and it Exalt and Debilitate also in opposite ones.<br>Now let's see what's the different efficient for signs and stars in details:<br>Sun, Rise in Leo, Fall in Aquarius, Exalt in Aries, Debilitate in Libra,<br>Moon, Rise in Cancer, Fall in Capricorn, Exalt in Taurus, Debilitate in Scorpio,<br>Mercury, Rise in both Gemini and Virgo, Fall in both Sagittarius and Pisces, Exalt in Aquarius, Debilitate in Leo,<br>Venus, Rise in both Taurus and Libra, Fall in both Scorpio and Aries, Exalt in Pisces, Debilitate in Virgo,<br>Mars, Rise in both Aries and Scorpio, Fall in both Libra and Taurus, Exalt in Capricorn, Debilitate in Cancer,<br>Jupiter, Rise in both Sagittarius and Pisces, Fall in both Gemini and Virgo, Exalt in Cancer, Debilitate in Capricorn,<br>Saturn, Rise in both Capricorn and Aquarius, Fall in both Cancer and Leo, Exalt in Libra, Debilitate in Aries,<br>Uranus, Rise in Aquarius, Fall in Leo, Exalt in Scorpio, Debilitate in Taurus,<br>Neptune, Rise in Pisces, Fall in Virgo, Exalt in Sagittarius, Debilitate in Gemini,<br>Pluto, Rise in Scorpio, Fall in Taurus, Exalt in Virgo, Debilitate in Pisces.<br><br>So, every stars with their aspects to others will show energy, and they show it through the aspects and their own phases and signs.<br>The whole of them will form a energy network that affect the Natal chart's owner's soul deeply.<br><br>So, I shall give you the mechanism of the formation of energy from the charts.<br>To make it simple, at beginning, each star has 5 points of energy, and 3 points of capacity.<br>For each star, if it has some special efficient due to its own sign, then its energy and capacity may change.<br>In details:<br>If a star Rise, its energy will increase by 3 points, vice versa decrease by 3 points if it Fall.<br>And if it Exalt, its capacity increase by 2 points, vice versa decrease by 2 points if it Debilitate.<br><br>Then come from those aspects.<br>First we should consider the 4 aspects mentioned above except Conjunct.<br>An aspect of Sextile will increase both two stars' capacity that forms it by 1 point.<br>An aspect of Square will increase the two ones' capacity by 2 points, but decrease their energy by 3 points simultaneously.<br>An aspect of Trine will increase the two ones' energy by 3 points, but decrease their capacity by 2 points simultaneously.<br>An aspect of Opposite will just decrease the two ones' energy by 1 points.<br>After this, if any star's energy becomes negative, then we should change it to 0 points.<br><br>Then come the faculty of each aspect.<br>Each aspect's faculty that it formed by star A and B is defined as max{0,capacity[A]+capacity[B]+2};<br><br>At last, we should consider the aspects of Conjunct.<br>For each one of Conjunct, just make the aspect's faculty to infinite.<br><br>So, a network is finally built.<br><br>The energy is produced by the following methods.<br>Two stars that make an aspect can burn same points (marked as x points) simultaneously because of this aspect, which is so called “the effect of the aspect”. The system should guarantee that x is less or equal to the faculty of the aspect.<br>The energy burned by a star (marked as y points) is the sum of all the effect of aspects that involves this particular star. The system should guarantee that y is less or equal to the energy of the star itself.<br>The energy produced by the network is the sum of energy burned by each star according to the rules above.<br><br>Every owner of his charts could make the most benefit of its network, thus can make his destiny better, and the goal of this problem is to calculate the maximum total energy a chart could form.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">A number T indicates the test cases at the first line.<br>Then for each test case, a line formed like 'STAR SIGN DEGREE' will be given, but the order maybe variable.<br>Please see the sample input for details.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">A number that indicates the maximum total energy which could be burned from the network.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2

Sun Gemini 2
Moon Gemini 0
Mercury Taurus 9
Venus Aries 22
Mars Pisces 24
Jupiter Cancer 11
Saturn Capricorn 25
Uranus Capricorn 8
Neptune Capricorn 14
Pluto Scorpio 15

Mercury Libra 13
Venus Virgo 13
Jupiter Gemini 5
Uranus Sagittarius 27
Saturn Sagittarius 27
Moon Sagittarius 17
Mars Aries 0
Pluto Scorpio 11
Sun Libra 22
Neptune Capricorn 7</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">50
10
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
For the first case,
The chart is as below:
<center><img src='./data/images/4040-2.png'></center> 
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=The+36th+ACM%2FICPC+Asia+Regional+Beijing+Site+%A1%AA%A1%AA+Online+Contest+&source=1&searchmode=source"> The 36th ACM/ICPC Asia Regional Beijing Site —— Online Contest  </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>