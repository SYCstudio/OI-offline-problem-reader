<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Instrusive</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5040. Instrusive</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：3000/1500 MS (Java/Others)</span> <span class="ui label">时间限制：262144/262144 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   The legendary mercenary Solid Matt gets a classic mission: infiltrate a military base.<br><br>   The military base can be seen as an N * N grid. Matt's target is in one of the grids and Matt is now in another grid.<br><br>   In normal case, Matt can move from a grid to one of the four neighbor grids in a second. But this mission is not easy.<br><br>   Around the military base there are fences, Matt can't get out of the base.<br><br>   There are some grids filled with obstacles and Matt can't move into these grids.<br><br>   There are also some surveillance cameras in the grids. Every camera is facing one of the four direction at first, but for every second, they will rotate 90 degree clockwisely. Every camera's sight range is 2, which means that if Matt is in the same grid as the camera, or in the grid that the camera is facing, he will be seen immediately and the mission will fail.<br><br>   Matt has a special equipment to sneak: a cardbox. Matt can hide himself in the card box and move without being noticed. But In this situation, Matt will have to use 3 seconds to move 1 grid. Matt can also just hide in the cardbox without moving. The time to hide and the time to get out of the cardbox can be ignored.<br><br>   Matt can't take the risk of being noticed, so he can't move without cardbox into a grid which is now insight of cameras or from a grid which is now insight of cameras. What's more, Matt may be in the cardbox at the beginning.<br><br>   As a live legend, Matt wants to complete the mission in the shortest time.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   The first line of the input contains an integer T, denoting the number of testcases. Then T test cases follow.<br><br>   For each test cases, the first line contains one integer:N(1&lt;=N&lt;=500)<br><br>   In the following N lines, each line contains N characters, indicating the grids.<br><br>   There will be the following characters:<br><br>    ● '.' for empty <br>    ● '#' for obstacle <br>    ● 'N' for camera facing north <br>    ● 'W' for camera facing west <br>    ● 'S' for camera facing south <br>    ● 'E' for camera facing east <br>    ● 'T' for target <br>    ● 'M' for Matt </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   For each test case, output one line &quot;Case #x: y&quot;, where x is the case number (starting from 1) and y is the answer.<br><br>   If Matt cannot complete the mission, output '-1'.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
3
M..
.N.
..T
3
M.. 
###
..T</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: 5
Case #2: -1</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014+ACM%2FICPC+Asia+Regional+Beijing+Online&source=1&searchmode=source"> 2014 ACM/ICPC Asia Regional Beijing Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>