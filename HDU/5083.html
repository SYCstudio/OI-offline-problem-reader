<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Instruction</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5083. Instruction</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Nowadays, Jim Green has produced a kind of computer called JG. In his computer, the instruction is represented by binary code. However when we code in this computer, we use some mnemonic symbols. For example, ADD R1, R2 means to add the number in register R1 and R2, then store the result to R1. But this instruction cannot be execute directly by computer, before this instruction is executed, it must be changed to binary code which can be executed by computer. Each instruction corresponds to a 16-bit binary code. The higher 6 bits indicates the operation code, the middle 5 bits indicates the destination operator, and the lower 5 bits indicates the source operator. You can see Form 1 for more details.<br>$$\begin{array} {|c|c|c|}<br>\hline<br>15 \quad \text{ operation code(6 bits)} \quad 10 &amp; 9 \quad \text{destination operator code(5 bits)} \quad 5 &amp; 4 \quad \text{source operator code(5 bits)} \quad 0\\<br>\hline<br>\end{array}<br>\\ \text{Form 1}$$<br><br>In JG system there are 6 instructions which are listed in Form 2.<br>$$\begin{array}{|l|l|}<br>\hline<br>\text{instruction} &amp; \text{function}\\ \hline<br>\text{ADD Ra,Rb} &amp; \text{Add the number in register Ra and Rb, then store the result to Ra.}\\ \hline<br>\text{SUB Ra,Rb} &amp; \text{Subtract the number in register Ra to Rb, then store the result to Ra.}\\ \hline<br>\text{DIV Ra,Rb} &amp; \text{Divide the number in register Ra by Rb, then store the result to Ra.}\\ \hline<br>\text{MUL Ra,Rb} &amp; \text{Mulplicate the number in register Ra and Rb, then store the result to Ra.}\\ \hline<br>\text{MOVE Ra,Rb} &amp; \text{Move the number in register Rb to Ra.}\\ \hline<br>\text{SET Ra} &amp; \text{Set 0 to Ra.}\\ \hline<br>\end{array}\\<br>\text{Form 2}$$<br><br>Operation code is generated according to Form 3.<br>$$\begin{array}{|l|l|}<br>\hline<br>\text{Operation} \qquad \qquad \qquad &amp; \text{Operation code} \qquad \qquad \qquad \qquad \\ \hline<br>\text{ADD} &amp; \text{000001}\\ \hline<br>\text{SUB} &amp; \text{000010}\\ \hline<br>\text{DIV} &amp; \text{000011}\\ \hline<br>\text{MUL} &amp; \text{000100}\\ \hline<br>\text{MOVE} &amp; \text{000101}\\ \hline<br>\text{SET} &amp; \text{000110}\\ \hline<br>\end{array}\\<br>\text{Form 3}$$<br><br>Destination operator code and source operator code is the register code of the register which is related to.<br>There are 31 registers in total. Their names are R1,R2,R3…,R30,R31. The register code of Ri is the last 5 bits of the number of i in the binary system. For eaxample the register code of R1 is 00001, the register code of R2 is 00010, the register code of R7 is 00111, the register code of R10 is 01010, the register code of R31 is 11111.<br>So we can transfer an instruction into a 16-bit binary code easyly. For example, if we want to transfer the instruction ADD R1,R2, we know the operation is ADD whose operation code is 000001, destination operator code is 00001 which is the register code of R1, and source operator code is 00010 which is the register code of R2. So we joint them to get the 16-bit binary code which is 0000010000100010.<br>However for the instruction SET Ra, there is no source register, so we fill the lower 5 bits with five 0s. For example, the 16-bit binary code of SET R10 is 0001100101000000<br>You are expected to write a program to transfer an instruction into a 16-bit binary code or vice-versa.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Multi test cases (about 50000), every case contains two lines.<br>First line contains a type sign, ‘0’ or ‘1’. <br>‘1’ means you should transfer an instruction into a 16-bit binary code;<br>‘0’ means you should transfer a 16-bit binary code into an instruction.<br>For the second line.<br>If the type sign is ‘1’, an instruction will appear in the standard form which will be given in technical specification; <br>Otherwise, a 16-bit binary code will appear instead.<br>Please process to the end of file.<br><br>[Technical Specification]<br>The standard form of instructions is <br>ADD Ra,Rb<br>SUB Ra,Rb<br>DIV Ra,Rb<br>MUL Ra,Rb<br>MOVE Ra,Rb<br>SET Ra<br>which are also listed in the Form 2.<br>$1 \leq a, b \leq 31$<br>There is exactly one space after operation, and exactly one comma between Ra and Rb other than the instruction SET Ra. No other character will appear in the instruction.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For type ‘0’，if the 16-bit binary code cannot be transferred into a instruction according to the description output “Error!” (without quote), otherwise transfer the 16-bit binary code into instruction and output the instruction in the standard form in a single line.<br>For type ‘1’, transfer the instruction into 16-bit binary code and output it in a single line.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
ADD R1,R2
0
0000010000100010
0
1111111111111111</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">0000010000100010
ADD R1,R2
Error!</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=BestCoder+Round+%2315&source=1&searchmode=source"> BestCoder Round #15 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>