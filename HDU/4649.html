<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Professor Tian</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4649. Professor Tian</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：65535/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Timer took the Probability and Mathematical Statistics course in the 2012, But his bad attendance angered Professor Tian who is in charge of the course. Therefore, Professor Tian decided to let Timer face a hard probability problem, and announced that if he fail to slove the problem there would be no way for Timer to pass the final exam. <br>As a result , Timer passed. <br>Now, you, the bad guy, also angered the Professor Tian when September Ends. You have to faced the problem too.  The problem comes that there is an expression and you should calculate the excepted value of it. And the operators it may contains are '&amp;' (and),'|'(or) and '^'(xor) which are all bit operators.  For example: 7&amp;3=3, 5&amp;2=0, 2|5=7, 4|10=14, 6^5=3, 3^4=7.<br>Professor Tian declares that each operator O<sub>i</sub> with its coming number A<sub>i+1</sub> may disappear, and the probability that it happens is P<sub>i</sub> (0&lt;i&lt;=n). <br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input contains several test cases. For each test case, there is a integer n (0&lt;n&lt;=200) in the first line.In the second line, there are n+1 integers, stand for {A<sub>i</sub>}. The next line contains n operators ,stand for {O<sub>i</sub>}. The forth line contains {P<sub>i</sub>}. <br>A<sub>i</sub> will be less than 2<sup>20</sup>, 0&lt;=P<sub>i</sub>&lt;=1.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each text case, you should print the number of text case in the first line.Then output the excepted value of the expression, round to 6 decimal places.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
1 2 3
^ ^
0.1 0.2
2
8 9 10
^ ^
0.5 0.78
1
1 2
&
0.5</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case 1:
0.720000
Case 2:
4.940000
Case 3:
0.500000</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2013+Multi-University+Training+Contest+5&source=1&searchmode=source"> 2013 Multi-University Training Contest 5 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>