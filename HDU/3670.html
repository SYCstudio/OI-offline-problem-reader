<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>A Sequence of Numbers</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3670. A Sequence of Numbers</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：50000/20000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">You are given a sequence of N  integers (each within the range [0, 2^16 - 1] ) along with P  operations and in order to solve this problem you need to process the operations instructed as follows.<br><br>There are two kinds of operations that you will be instructed to perform:<br><br>1) Modification<br>    - Given a non-negative number T , you need to increase the value of every number in the sequence by T . If the value of any number in the sequence is larger than 2^16 - 1 after the operation, you should divide its value by 216 and take the remainder as its value; <br>2) Query<br>    - Given a non-negative number T , query how many numbers in the sequence satisfies the condition that its bitwise and result with 2^T is greater than zero. <br><br>For simplicity, all you need to do here is to output the sum ( sum &lt; 10, 000, 000, 000 ) of the answers to all queries. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There are multiple test cases in the input file. Each test case starts with one integer N  (N&lt;=10^5) , the number of integers in the sequence. The following N  line consists of one integer P  (0&lt;=P&lt;=2^16 - 1) , the value on i -th line being the value of the i -th number in the sequence.<br><br>Each of the following lines is either of the format ``C delta &quot; (0&lt;=delta) , meaning that you should increase the value of every number by delta, or ``Q i &quot; (0&lt;=i&lt;=15) , meaning that you should calculate the answer to the query (as explained in the problem description). Every test case ends with one character `E' on a single line, followed by a blank line.<br><br>N = - 1 indicates the end of input file and should not be processed by your program. It is guaranteed that the total number of operations in each test case does not exceed 200,000. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, print the sum of answers to queries on one separate line in the format as indicated in the sample output. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">3 
1 
2 
4 
Q 1 
Q 2 
C 1 
Q 1 
Q 2
E

-1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case 1: 5</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2007+Asia+Regional+Chengdu&source=1&searchmode=source"> 2007 Asia Regional Chengdu </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>