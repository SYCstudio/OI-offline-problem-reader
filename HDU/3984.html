<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Harry Potter and the Cyber Stone</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3984. Harry Potter and the Cyber Stone</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">After Voldemort and the Death Eater were wiped out by Harry Potter and his friends, Harry becomes the glory of the Wizarding World, magician treat him as model, hero, king… and much more than that.<br>Recently Harry Potter and his friends have been researching a kind of toy from the Muggle World, with the name Cyber Stone, wondering if after manipulated in some certain way, it can be useful and powerful for magicians. Dating back to the time of chaos, the prototype of Cyber Stone and all possible operations were recorded in an amazing way in an ancient book in now a secret library in Hogwarts. The authors of the records may be elements or spirits, however, without any convincingly evidence. Though the beginning that the products’ becoming fashionable in the Muggle World is only after the Industrial Revolution.<br>The Cyber Stone can be described with a cube sized NxNxN. Each of the unit cubes can be visible or invisible, and is initially visible. <br>We know a normal cube has 6 surfaces, and can be pictured in a 3D Cartesian Coordinate System (aka an XYZ coordinate system). For convention, we name every unit cube its 3D axis (x, y, z) (0&lt;=x,y,z&lt;n). And every time we call the surface “the front surface”, if it parallels with YOZ plane and has non-zero X axis. And the surface with the name “the back surface” is the surface parallel to the front surface. And if we are going to describe a rectangle in one of the 6 surfaces, because all points in the same surface have one axis in common, we only give the other two axis of one point ordering by (x,y) (y,z) or (z,x)<br>For example, if we have a Cyber Stone sized NxNxN, we describe a rectangle of (N-1, 1, 3) – (N-1, 2, 4) as (1,3)-(2,4) in “front surface”.<br>The surfaces we will mention are only the front and the back surface.<br>The axis and directions in rotating we will use are one of the six symbols: x+, x-, y+, y-, z+, z-. The symbol “y+” makes a sense of the axis of rotating is the Y-axis and we rotate counterclockwise. <br><center><img style='max-width:100%;' src=./data/images/C360-1003-1.jpg></center>  <br>Every time Harry could do one of following operations with a few effort of his magic (of course Muggles can and can only use computers to play like playing an virtual game):<br>1.&nbsp;&nbsp;Rotate in one of all 6 directions. This operation is called “Rotate”.(The direction symbol can be x+, x-, y+, y-, z+, z-, )<br>2.&nbsp;&nbsp;Choose a rectangle (a,b)-(c,d), then make all visible unit cube, between (a, b)-(c,d) in the front surface and in the back surface(inclusive), invisible. This operation is called “Remove”<br>3.&nbsp;&nbsp;Choose a rectangle (a,b)-(c,d), then make all invisible unit cube, between (a, b)-(c,d) in the front surface and in the back surface(inclusive), visible. This operation is called “Resume”<br>4.&nbsp;&nbsp;Choose a rectangle (a,b)-(c,d), then make all unit cube, between (a, b)-(c,d) in the front surface and in the back surface(inclusive), change its visible state(i.e if it is visible then it’s changed to invisible and the other way around) . This operation is called “Reverse”<br>In order to describe the result Harry gets, we have:<br>5.&nbsp;&nbsp;Draw a picture with the aspect of standing in the front and seeing through the front surface to the back. This operation is called &quot;Review”.<br>Given a group of operation records, your task is write a program to recall the experiment process.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line contains two integers N, M. <br>N is the length of every edge of the Cyber Stone.<br>M is the number of operations to simulate.<br>Then M lines follow, each line can one of following:<br>  Rotate dir&nbsp;&nbsp;<br>  Remove (a,b)-(c,d)<br>  Resume (a,b)-(c,d)<br>  Reverse (a,b)-(c,d)<br>  Review<br><br>Technical Specification<br><br>1. 1 &lt;= N &lt;= 100<br>2. 1 &lt;= M &lt;= 1000<br>3. ‘dir’ in Rotate operation and ‘(a,b)-(c,d)’ in all relative operations are guaranteed legal.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For every line of “Review” operation, output a line of “Operation#&lt;number&gt;:”, where &lt;number&gt; is the operation number of the Review operation.<br>then output current NxNxN Cyber Stone, following the format:<br>Each visible cube is represented like(the numbers are for clarity): <br><img style='max-width:100%;' src=./data/images/C360-1003-2.jpg><br>Every line of each Review output should contain minimum number of line, and minimum number of columns, and every line has the same length. Use ‘.’ (dot sign, ASCII code 46) to represent the background.<br>If no cube to be output, output nothing except for the Operation Number. <br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">3 6
Remove (1,1)-(1,1)
Review
Rotate y+
Remove (1,1)-(1,1)
Reverse (0,0)-(2,2)
Review</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><img src='./data/images/C360-1003-3.jpg'></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2011+Multi-University+Training+Contest+15+-+Host+by+WHU&source=1&searchmode=source"> 2011 Multi-University Training Contest 15 - Host by WHU </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>