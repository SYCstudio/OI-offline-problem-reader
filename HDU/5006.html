<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Resistance</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5006. Resistance</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：6000/3000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Recently DRD got a number of wires. Some of the wires have the resistance 1 ohm while the others have the resistance 0 ohm. Each wire has probability 50% to be 0 ohm or 1 ohm.<br><br>Now ATM gets a circuit board. There are N points in the circuit board. DRD wants to connect these points using his wires. He chooses a wire randomly and chooses two points in the board randomly. Then he will connect the two points using the wire he chooses. DRD will use M wires. Note that it's possible that there exist two points which are not connected by wires.<br><br>ATM is interested in the equivalent resistance between the point S and point T. Since they lack of instruments, they want you to calculate the answer. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line contains an integer T, denoting the number of the test cases.<br><br>For each test case: The first line contains 4 integers: N, M, S, and T. For each of the next M lines, it contains 3 integers: u, v, and c, representing that DRD uses a wire, whose resistance is c, to connect the point u and v. It's guaranteed that 1 &lt;= N &lt;= 10000 and M = 4*N. 1 &lt;= u, v &lt;= N. c is randomly chosen from {0, 1} and u and v are randomly chosen from {1, 2, ..., N}. Note that u can equal v. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output a real number. There must be exactly 6 digits after the decimal point. If S and T are not connected by wires, output &quot;inf&quot; (without quotes) instead.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
10 40 6 1
9 4 1
7 3 1
10 1 0
5 2 0
6 7 1
7 3 1
3 5 1
3 6 1
8 10 0
8 3 0
7 3 1
3 9 1
2 8 1
10 5 0
10 2 1
10 9 1
9 1 0
7 5 1
10 2 0
8 1 0
2 8 0
10 2 0
1 5 0
5 4 0
7 4 1
8 5 1
4 3 1
6 1 1
5 10 0
3 9 1
5 1 0
9 2 1
3 4 1
5 8 0
3 5 1
3 4 1
2 7 0
4 4 0
1 8 0
10 10 0
10 40 2 1
5 6 1
8 10 1
3 8 1
8 5 0
6 4 1
9 9 1
3 6 1
2 4 1
9 8 0
9 3 0
7 7 1
8 6 1
10 4 1
1 3 0
2 8 1
9 8 0
8 1 1
6 4 0
3 4 0
1 4 0
1 10 0
9 10 0
6 1 1
3 1 1
5 4 0
1 2 1
7 2 1
10 9 0
6 1 0
10 3 1
8 6 1
1 4 0
1 1 0
4 3 0
1 8 0
7 10 1
10 6 0
4 5 0
2 2 0
4 2 1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">0.333333
0.222222</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014+ACM%2FICPC+Asia+Regional+Anshan+Online&source=1&searchmode=source"> 2014 ACM/ICPC Asia Regional Anshan Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>