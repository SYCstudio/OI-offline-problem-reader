<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Dynamic Lover</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4270. Dynamic Lover</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：5000/1500 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">As a famous person with universal love, changing girlfriend too often makes me harassment because I can't keep their name in mind timely. To remember who is my lover now, I buy a magic password-box from a wizard.<br>As a faithful atheist, I do not believe that it is caused by magic power. By doing a deep research, I find that all &quot;magic&quot; factors are just because a small software inside the box. Because the software only uses some simple data structure, it has a dissatisfied complexity.<br>Now I shortly introduce the principle of the software.<br>We will support a string with dynamic length and three kinds of operations on it. You can assume that we will always have an initial string.<br>*1. You will receive a short string, and you should <b><i>connect it after the original string to make the new string</i></b>.<br>*2. You will receive an integer len, and you should answer the query: for each index i (1 &lt;= i &lt;= LEN(nowString)), we will get a sub-string from i to i + len - 1 (if i + len - 1 &gt; LEN(nowString), you should make the suffix from index i as its sub-string). You should output the index i whose sub-string has minimum lexicographic.<br>*3. You will receive an integer len. You should delete the suffix whose length is len from the string now and get a new string.<br>As a former ACMer, I want to make a new production with better execution speed. But I am not good at data structure, so I need your help.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There are multiple test cases.<br>The first line contains a string as the initial string.<br>The next line contains an integer m (1 &lt;= m &lt;= 100,000) indicating the number of the operations.<br>Each of the next m lines begins with an integer k (1 &lt;= k &lt;= 3) indicating the kind of operation. If k = 1, it is followed by a short non-empty string, otherwise it is followed by an integer len. <br>We guarantee that the total length of the initial string and all short strings are not more than 100,000. And for each query, the len is not more than 1000 and the total sum of len is not more than 100,000.<br>All characters in the input are lower case.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, you should output several lines.<br>For each query, you should output a line indicating the index i whose sub-string has minimum lexicographic. If more answers exist, output the minimal index.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">aacbab
5
2 2
1 aaa
2 3
3 2
2 3 </code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
9
7</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2012+ACM%2FICPC+Asia+Regional+Changchun+Online&source=1&searchmode=source"> 2012 ACM/ICPC Asia Regional Changchun Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>