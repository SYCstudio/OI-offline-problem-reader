<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Gomoku</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3683. Gomoku</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">You are probably not familiar with the title, “Gomoku”, but you must have played it a lot. Gomoku is an abstract strategy board game and is also called Five in a Row, or GoBang. It is traditionally played with go pieces (black and white stones) on a go board (19x19 intersections). Nowadays, standard chessboard of Gomoku has 15x15 intersections. Black plays first, and players alternate in placing a stone of their color on an empty intersection. The winner is the first player to get an unbroken row of five or more stones horizontally, vertically, or diagonally. <br><center><img style='max-width:100%;' src=./data/images/3683-1.gif></center>  <br> For convenience, we coordinate the chessboard as illustrated above. The left-bottom intersection is (0,0). And the bottom horizontal edge is x-axis, while the left vertical line is y-axis. <br><br>I am a fan of this game, actually. However, I have to admit that I don’t have a sharp mind. So I need a computer program to help me. What I want is quite simple. Given a chess layout, I want to know whether someone can win within 3 moves, assuming both players are clever enough. Take the picture above for example. There are 31 stones on it already, 16 black ones and 15 white ones. Then we know it is white turn. The white player must place a white stone at (5,8). Otherwise, the black player will win next turn. After that, however, the white player also gets a perfect situation that no matter how his opponent moves, he will win at the 3rd move. <br><br>So I want a program to do similar things for me. Given the number of stones and positions of them, the program should tell me whose turn it is, and what will happen within 3 moves.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input contains no more than 20 cases.<br>Each case contains n+1 lines which are formatted as follows.<br>n<br>x<sub>1</sub> y<sub>1</sub> c<sub>1</sub><br>x<sub>2</sub> y<sub>2</sub> c<sub>2</sub><br>......<br>x<sub>n</sub> y<sub>n</sub> c<sub>n</sub><br>The first integer n indicates the number of all stones. n&lt;=222 which means players have enough space to place stones. Then n lines follow. Each line contains three integers: x<sub>i</sub> and y<sub>i</sub> and c<sub>i</sub>. x<sub>i</sub> and y<sub>i</sub> are coordinates of the stone, and c<sub>i</sub> means the color of the stone. If c<sub>i</sub>=0 the stone is white. If c<sub>i</sub>=1 the stone is black. It is guaranteed that 0&lt;=x<sub>i</sub>,y<sub>i</sub>&lt;=14, and c<sub>i</sub>=0 or 1. No two stones are placed at the same position. It is also guaranteed that there is no five in a row already, in the given cases.<br>The input is ended by n=0.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case:<br><br>First of all, the program should check whose turn next. Let’s call the player who will move next “Mr. Lucky”. Obviously, if the number of the black stone equals to the number of white, Mr. Lucky is the black player. If the number of the black stone    equals to one plus the numbers of white, Mr. Lucky is the white player. If it is not the first situation or the second, print “Invalid.” <br><br>A valid chess layout leads to four situations below:<br><br>1)Mr. Lucky wins at the 1<sup>st</sup> move. In this situation, print :<br><br>Place TURN at (x,y) to win in 1 move.<br><br> “TURN” must be replaced by “black” or “white” according to the situation and (x,y) is the position of the move. If there are different moves to win, choose the one where x is the smallest. If there are still different moves, choose the one where y is the smallest.<br><br>2)Mr. Lucky’s opponent wins at the 2<sup>nd</sup> move. In this situation, print:<br><br>Lose in 2 moves.<br><br>3)Mr. Lucky wins at the 3<sup>rd</sup> move. If so, print:<br><br>Place TURN at (x,y) to win in 3 moves.<br><br>“TURN” should replaced by “black” or “white”, (x,y) is the position where the Mr. Lucky should place a stone at the 1<sup>st</sup> move. After he place a stone at (x,y), no matter what his opponent does, Mr. Lucky will win at the 3[sup]rd[sup] step. If there are multiple choices, do the same thing as described in situation 1. <br><br>4)Nobody wins within 3 moves. If so, print:<br><br>Cannot win in 3 moves.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">31
3 3 1
3 4 0
3 5 0
3 6 0
4 4 1
4 5 1
4 7 0
5 3 0
5 4 0
5 5 1
5 6 1
5 7 1
5 9 1
6 4 1
6 5 1
6 6 0
6 7 1
6 8 0
6 9 0
7 5 1
7 6 0
7 7 1
7 8 1
7 9 0
8 5 0
8 6 1
8 7 0
8 8 1
8 9 0
9 7 1
10 8 0
1
7 7 1
1
7 7 0
0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Place white at (5,8) to win in 3 moves.
Cannot win in 3 moves.
Invalid.</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2010+Asia+Hangzhou+Regional+Contest+&source=1&searchmode=source"> 2010 Asia Hangzhou Regional Contest  </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>