<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Alice and Bob</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5841. Alice and Bob</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：10000/5000 MS (Java/Others)</span> <span class="ui label">时间限制：131072/131072 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">As you know, Alice and Bob always play game together, and today they get a tree. <br><br>The tree consists of $n$ vertices, and vertex $1$ is the root of this tree. <br><br>There is a number $w[i]$ written on the ith vectex. Alice and Bob want to play a game on a subtree of this tree. (Note that there are only $n$ subtrees, since the tree is rooted.) <br><br>Firstly Alice will choose a vertex in this subtree, and Bob must to choose a different vertex in this subtree. (So, Bob knows which vertex Alice chosen.) <br><br>At last they will get a result number equals the XOR sum of the number written on the two vertices which they chosen. <br><br>But the problem is that Alice wants the result number to be as maximal as possible while Bob wants the result number to be as minimal as possible, and of course they are clever enough.<br><br> Now we are interested in the result number, can you tell us?</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">In the first line there is an integer $T$, indicating the number of test cases.<br><br>For each test case:<br><br>The first line includes an integer $n$.<br><br>The second line includes $n$ integers $w[i]$, indicating the number written on the ith vertex.<br><br>For the next $n-1$ lines, each line includes two integers $u$ and $v$, which means an edge in the tree.<br><br>The next line includes an integer $m$, which means the number of our queries.<br><br>The next $m$ lines, each line includes an integer $u$, indicating Alice and Bob play game on the subtree rooted on the vertex $u$, and we want to know the result number.<br><br>$1 \leq n, m \leq 100000, 0 \leq w[i] \leq 100000$.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case:<br><br>Output “Case #k:”(without quotes) one line first, where k means the case number count from 1.<br><br>Then output $m$ lines, each line must include the answer of the corresponding query. If Alice and Bob can’t choose two different vertices, output -1 instead.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
3
1 2 3
1 2
2 3
3
1
2
3</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
2
1
-1</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2016%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC+-+%CD%F8%C2%E7%D1%A1%B0%CE%C8%FC&source=1&searchmode=source"> 2016中国大学生程序设计竞赛 - 网络选拔赛 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>