<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Graph Theory?</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4222. Graph Theory?</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：16000/8000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">In mathematics and computer science, graph theory is the study of graphs, mathematical structures used to model pairwise relations between objects from a certain collection. A graph is a collection of vertices and a collection of edges that connect pairs of vertices. <br>Simple word, we have an undirected graph with weight on its edge, and we want to choose a key point on this graph, be careful, the key point can be not only on a vertex, but also on an edge.<br>To make the problem more close to reality and easy to understand, imagine it’s a country where everybody wants to go aboard, say TC for example, and the key point is the only exit of this country to the outside colorful world. The N vertices can be treated as cities, M edges as roads. And if the key point is chosen, everyone in every city will choose a shortest path to the key point, and leave this country as if one second more will erase the purity and dignity.<br>But one last thing, visa. To simplify the problem, we already change the ID order and only the last K vertices have a visa office. One may choose any of those cities to get a visa. Of course, they will choose a visa-city to make the total length as short as possible.<br>And now, we come back to handle the original problem, where should the key vertex be? There are also two viewpoints for judging where the most perfect place is. We use Di to record the minimum cost for people in city i to get a visa and reach the key point, and Pi people in this city. The first opinion claims the Max(Di * Pi)  to be as small as possible, while the second claims the Sum(Di * Pi)  to be as small as possible. Your task is to solve both of these requests. <br>For each request, report the minimum value it claims, and then, report the place it can choose to achieve that value. If more than one such place, report INFINITE instead (you may assume the people in TC only know 0 and 1, other numbers are just infinite for them).<br>If you need to report a chosen place for key point, report the first edge id (1-based) the point appears, and then the distance between the point and the first vertex. For example, if there is only an edge &lt;1, 2&gt;, and the key point lies in vertex 1, report (1, 0.000).<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line contains a single integer T, indicating the number of test cases.<br>Each test case includes three integers N, M, K. Then a line with N integers Pi follows. Then M lines following, each line contains three integers Ai, Bi, Ci, describing an undirected road. You can assume there is as least one path between any city pair.<br><br><b>Technical Specification</b><br>1. 1 &lt;= T &lt;= 64<br>2. 1 &lt;= K &lt; N &lt;= 32<br>3. 0 &lt;= Pi &lt;= 1024<br>4. N - 1 &lt;= M &lt;= 512<br>5. 1 &lt;= Ci &lt;= 1024<br>6. 1 &lt;= Ai, Bi &lt;= N, Ai != Bi, no edge pair appears more than once.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output the case number in the first line. Then two lines, the first line describe the max request, and the second describe the sum request, as the format in the description. <br>Separate them by exactly one space, print “INFINITE” without quote if needed, and round all the floating numbers to three fractional digits. Refer to the sample output for more details. <br>Even more than one such place, you should report the minimum value it claims first.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
3 3 1
1 2 3
1 2 1
2 3 2
1 3 3
4 4 2
3 2 1 1
1 2 2
2 3 2
3 4 2
4 1 2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case 1:
4.000 2 2.000
7.000 2 2.000
Case 2:
7.200 3 1.600
16.000 3 2.000</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=%CA%D7%BD%EC%BB%AA%D6%D0%C7%F8%B3%CC%D0%F2%C9%E8%BC%C6%D1%FB%C7%EB%C8%FC%F4%DF%B5%DA%CA%AE%BD%EC%CE%E4%BA%BA%B4%F3%D1%A7%B3%CC%D0%F2%C9%E8%BC%C6%B4%F3%C8%FC&source=1&searchmode=source"> 首届华中区程序设计邀请赛暨第十届武汉大学程序设计大赛 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>