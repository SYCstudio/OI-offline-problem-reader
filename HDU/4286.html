<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Data Handler</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4286. Data Handler</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：20000/10000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">　　You are in charge of data in a company, so you are called &quot;Data Handler&quot;. Different from the data in computer, the data you have are really in huge volume, and each data contains only one integer. All the data are placed in a line from left to right. There are two &quot;hand&quot; to handle the data, call hand &quot;L&quot; and hand &quot;R&quot;. Every hand is between two adjacent data or at the end of the data line.<br>　　In one day, the company gives you many commands to handle these data, so you should finish them one by one. At the beginning, there are N data, and hand &quot;L&quot; and &quot;R&quot; are in some positions. Each command is one the following formats:<br>　　(1)MoveLeft L/R: it means that you should move the hand &quot;L&quot;/&quot;R&quot; left one data unit;<br><center><img style='max-width:100%;' src=./data/images/C414-1009-1.jpg></center> <br><br>　　(2)MoveRight L/R: it means that you should move the hand &quot;L&quot;/&quot;R&quot; right one data unit;<br><center><img style='max-width:100%;' src=./data/images/C414-1009-2.jpg></center> <br><br><br>　　(3)Insert L X: it means that you should insert the data that contains X at the right of the hand &quot;L&quot;;<br><center><img style='max-width:100%;' src=./data/images/C414-1009-3.jpg></center> <br><br><br>　　(4)Insert R X: it means that you should insert the data that contains X at the left of the hand &quot;R&quot;;<br><center><img style='max-width:100%;' src=./data/images/C414-1009-4.jpg></center> <br><br><br>　　(5)Delete L: it means that you should delete the one data at the right of the hand &quot;L&quot;;<br><center><img style='max-width:100%;' src=./data/images/C414-1009-5.jpg></center> <br><br><br>　　(6)Delete R: it means that you should delete the one data at the left of the hand &quot;R&quot;;<br><center><img style='max-width:100%;' src=./data/images/C414-1009-6.jpg></center> <br><br><br>　　(7)Reverse: it means that you should reverse all the data between hand &quot;L&quot; and hand &quot;R&quot;.<br><center><img style='max-width:100%;' src=./data/images/C414-1009-7.jpg></center> <br><br>　　After finish all the commands, you should record all the data from left to right. So please do it.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">　　The first line contains an integer T(1&lt;=T&lt;=10), the number of test cases.<br>　　Then T test cases follow. For each test case, the first line contains an integer N(1&lt;=N&lt;=500000), the number of data at the beginning. The second line contains N integers, means the integer in each data, from left to right. The third line contains two integers L and R (1&lt;=L&lt;=R&lt;=N), the positions of hand &quot;L&quot; and hand &quot;R&quot;. It means that hand &quot;L&quot; is at the left of the L-th data and hand &quot;R&quot; is at the right of the R-th data. The fourth line contains one integer M(1&lt;=M&lt;=500000), the number of commands. Then M lines follow, each line contains a command in the above format. All the integers in the data will in range [-10000,10000].<br>　　It is guaranteed that there are always some data between hand &quot;L&quot; and &quot;R&quot;, and if the hand is at the left/right end of the data line, it will not receive the command MoveLeft/MoveRight.<br>　　Because of large input, please use scanf instead of cin.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">　　For each test case, output the integers in the data from left to right in one line, separated in a single space.<br>　　Because of large output, please use printf instead of cout.<br>　　<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
5
1 2 3 4 5
1 5
5
MoveLeft R
Insert R 6
Reverse
Delete R
Insert L 7
5
6536 5207 2609 6604 -4046
1 3
5
Delete L
Insert R -9221
Reverse
Delete L
MoveRight L</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">7 6 4 3 2 5
2609 5207 6604 -4046</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2012+ACM%2FICPC+Asia+Regional+Tianjin+Online&source=1&searchmode=source"> 2012 ACM/ICPC Asia Regional Tianjin Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>