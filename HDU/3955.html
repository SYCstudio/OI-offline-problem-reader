<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>March</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3955. March</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">During a game of Civilization V, much of your time will be spent moving units around the world. You'll be marching your army units off to discover stuff or to fight with your neighbors.<br><center><img style='max-width:100%;' src=./data/images/C361_1005_1.jpg></center><br>The world is comprised of hexagons. Generally, units move from hexagon to hexagon, paying the &quot;Movement Cost&quot; required to enter the new hexagon.<br><i><b>Movement Points</b></i>:<br>All army units have a certain number of &quot;Movement Points&quot;(MPs) that they can expend on movement in every turn. Once they've expended those MPs, they can't move any more until the next turn.<br><i><b>Expending MPs:</b></i><br>Units expend MPs to enter tiles. The terrain of the tile determines the MP cost of the move. It doesn't cost anything to leave your current tile; the MP cost is determined by the tile you're entering.<br>A unit can always move one tile if it has any MPs left.It doesn't matter how expensive the tile is; as long as the unit has some MPs left, it can enter. <br><i><b>Terrain of the tile:</b></i><br>Open terrain like Grassland and Plains cost 1 MP to enter, while Forest and Jungle costs 2.<br><i><b>Zones of Control:</b></i><br>Enemy units exert a &quot;Zone of Control&quot;(ZOC) over the tiles around them. When a unit moves between two tiles within enemys' ZOC it expends all of MPs.(you can't move on the tile which contain an enemy)<br><i><b>Road:</b></i><br>As long as the unit moves from one tile containing a road into another tile containing a road,the unit will expend just 0.25 MPs no matter what terrain of the tile.(unless within an enemy's ZOC)<br><i><b>Rivers:</b></i><br>Rivers are between two tiles.<br>As long as the unit moves cross a rivers from a tile to another tile it expends all of MPs(unless these tiles contain roads).<br><br>Giving the information of the World, please tell me the minimum turns to cost for reaching the destination.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line is a number T(1&lt;=T&lt;=30), represents the number of case. The next T blocks follow each indicates a case.<br>The first line of each case contains three integers N, M(2&lt;=N,M&lt;=100), indicating the size of World, and MP(1&lt;=MP&lt;=10).<br>Then N lines follow, each line contains M integers.<br>Each module number tells the information of the tile and is the sum of up to ten integers:<br>1: Grassland and Plains<br>2: Forest and Jungle<br>4: Road<br>8: Enemy<br>16: A river on northeast of the tile<br>32: A river on east of the tile<br>64: A river on southeast of the tile<br>128: A river on southwest of the tile<br>256: A river on west of the tile<br>512: A river on northwest of the tile<br>(each tile must contain either 1 or 2)<br>Then a line with two coordinates x1,y1,x2,y2(0&lt;=x1,x2&lt;n,0&lt;=y1,y2&lt;m) indicating the source and destination. There is no enemy in source and destination and source is different from destination.<br>The picture below shows the coordinate of the World.<br><center><img style='max-width:100%;' src=./data/images/C361_1005_2.jpg></center></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each case, output the number of case and the minimum turns to cost for reaching the destination.If can't reach the destination, just output -1.(as shown in the sample output)</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">3
2 2 10
97 257
513 1
0 0 1 1

2 2 1
101 262
513 2
0 0 1 1

3 3 2
5 5 5
10 10 5
1 1 5
0 0 2 2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case 1: 2
Case 2: 1
Case 3: 4
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
Case 1: (0,0)->(0,1)->(1,1)
First turn cross a river, you expends all of MPs. So you need waiting second turn to reach (1,1)
Case 2: (0,0)->(0,1)->(1,1)
There are roads on these tiles, so you cross the river expends 0.25 MPs, then expends the remain MPs to reach (1,1).
Case 3: (0,0)->(0,1)->(0,2)->(1,2)->(2,2)
Even if there are roads on these tiles, but there are all in ZOC, so you will expends all of MPs each move.
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2011+Alibaba+Programming+Contest&source=1&searchmode=source"> 2011 Alibaba Programming Contest </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>