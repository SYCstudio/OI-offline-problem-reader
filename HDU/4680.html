<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>About set</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4680. About set</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：10000/5000 MS (Java/Others)</span> <span class="ui label">时间限制：65535/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Today Zhanyl (sister Zhan as you know)  receives a task about set operation. Although she is very good at this task, <br>but you know she is very lazy so that she wants you to help her write a program to complete this task. Surly<br>Zhanyl is able to solve this question, but you know, she is just lazy ...<br>Here is the problem, you are given n numbers, each number i has a value A<sub>i</sub>, initially they are in different set. <br>Following there are m operations/querys.<br>The following is 5 possible kinds of oprations/querys:<br>1 u v: Union the set u belongs to and the set v belongs to.<br>2 u v: Delete u from its original set and add it to the set v belongs to.<br>3 u x: change the value of u to x.&nbsp;&nbsp;1&lt;=x&lt;=10<sup>9</sup><br>4 u: query how many numbers you can choose most in set which u belongs to, so no three numbers can form a triangle.<br>5 u l r: query the gcd of the numbers between [l,r] in the set u belongs to, if there is no number between [l,r],you can suppose the answer is -1.&nbsp;&nbsp;<strong>1&lt;=l&lt;=r&lt;=10<sup>9</sup></strong><br>Because Zhanyl is a good person, so she guarantee 1&lt;=u,v&lt;=n above.<br>You need to tell Zhanyl the answer to each query.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of the input is a single integer T which is the number of test cases.Then comes the T test cases .<br>For each test case, the first line contains two integer n and m, n is the number of set initially, m is the number <br>of operations/querys.<br>Following line contains n integers, A<sub>1</sub>, A<sub>2</sub>, ... , A<sub>n</sub>, the value of i-th number.<br>Following m lines, each line is a operation or query.<br><br>Note that 1&lt;=n,m&lt;=10<sup>5</sup>, 1&lt;=A<sub>i</sub>&lt;=10<sup>9</sup></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each case,output &quot;Case #X:&quot; in one line first, X is the case number starting from 1. Following you should output all the querys, each query a line.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
5 5
1 2 3 4 5
1 2 4
5 2 1 5
2 1 4
3 2 3
4 2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
2
3</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2013+Multi-University+Training+Contest+8&source=1&searchmode=source"> 2013 Multi-University Training Contest 8 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>