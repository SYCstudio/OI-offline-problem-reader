<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Dihedral groups</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU1486. Dihedral groups</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：5000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Consider n points on a unit circle with numbers k = 0, 1, ..., n-1. Initially point k makes an angle of 360 · k / n degrees to the x-axis, measured in counter-clockwise direction. We are going to perform two different kind of operations on that set of points:<br><br><li>rotation by 360 / n degrees in clockwise direction</li><br><li>reflection with respect to the x-axis</li><br><br>The following picture shows an example of these operations:<br><br><center><img style='max-width:100%;' src=./data/images/1486-1.png></center><br><br>Given a sequence of operations, we are interested in the shortest sequence of operations which gives the same result, i.e., the position of every single point is the same after performing either of those sequences of operations. <br><br>The sequence is given as a string consisting of the characters 'r' and 'm' which represent clockwise rotation and reflection respectively (&quot;to the right&quot; and &quot;mirror&quot;). Multiple consecutive occurrences of the same character are collected into the representation &lt;character&gt;&lt;number&gt;, and for convenience this will also be done for single occurrences. So &quot;rrmrrrrrrrrrrrr&quot; will be abbreviated to &quot;r2 m1 r12&quot;. The representations of different operations are always separated by a single space.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input file consists of several test cases. Each test case starts with a line containing n (3 ≤ n ≤ 10^8), the number of points. The second line of each test case consists of an abbreviated sequence of operations as described above. All numbers will be positive and less than 10^8. There will be no empty line in the input file, and no line will contain more than 100000 characters. The last test case is followed by a line containing 0.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case print one line containing the abbreviated format of the sequence with the minimum number of operations which results in the same configuration of points as the input sequence. In case of multiple optimal solutions, print any solution. Note that the second line of the sample output is a blank line.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">4
r2
100
m1 r100 m1
54
r218 m3 r1
0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">r2

r1 m1</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2006%2F2007+ACM-ICPC+University+of+Ulm+Local+Contest&source=1&searchmode=source"> 2006/2007 ACM-ICPC University of Ulm Local Contest </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>