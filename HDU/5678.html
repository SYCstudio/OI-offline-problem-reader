<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>ztr loves trees</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5678. ztr loves trees</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：6000/2500 MS (Java/Others)</span> <span class="ui label">时间限制：131072/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Super Deity ztr likes trees from childhood,CCTV-children:&quot;The apple on the apple tree.You and I under the apple tree.Play games in front of the apple tree.So many happiness&quot;.<br><br>One day,qzh visit ztr to ask some questions.To give a tree with a root,each vertex has a value.Each time query the median of a subtree.<br><br>ztr said:this is a water problem,do you do it?But qzh show cannot help but want you who is also a Super Deity  to help him.Could you help him?<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There are T test cases. The first line of input contains an positive integer T indicating the number of test cases.<br><br>For each test case:<br><br>Each line contains two positive integer n,m.indicating the number of vetrex and the number of query times.<br>The next line contains n numbers, the ith number indicating the value of vertex i.<br>The next n-1 lines,each line contains two numbers u and v,indicating there is a edge form u to v.<br><br>The next m lines, each line contains a numbers x.indicating query the median of subtree x.<br><br>$1&lt;=T&lt;=3,1&lt;=n&lt;=10^{5},1&lt;=m&lt;=10^{6},1&lt;=u&lt;=v&lt;=n,1&lt;=val&lt;=10^{9}.$<br>The vetrex 1 is the root of the tree.Guarantee input a tree with a root.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case:print a line.To avoid huge output,you should hash each answer first,then print it.<br><br>The method to hash:a[i] indicates the ith query result,$ans =\sum a[i]*10^{m-i} \;mod\;1,000,000,007$ Round to the nearest tenth<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
5 3
1 2 3 4 5
1 2
2 3
3 4
4 5
1
2
3</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">339.0</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=BestCoder+Round+%2382+%28div.2%29&source=1&searchmode=source"> BestCoder Round #82 (div.2) </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>