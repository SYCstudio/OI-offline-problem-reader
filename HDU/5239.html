<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Doom</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5239. Doom</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：12000/6000 MS (Java/Others)</span> <span class="ui label">时间限制：524288/524288 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">THE END IS COMINGGGGGG!<br><br>Mike has got stuck on a mystery machine. If he cannot solve this problem, he will go to his doom.<br><br>This machine is consist of $n$ cells, and a screen. The $i$-th cell contains a number $a_i(1 \leq i \leq n)$. The screen also contains a number $s$, which is initially $0$.<br><br>There is a button on each cell. When the $i$-th is pushed, Mike observes that, the number on the screen will be changed to $s + a_i$, where $s$ is the original number. and the number on the $i$-th cell will be changed to $a_i^2$.<br><br>Mike observes that the number is stored in radix $p$, where $p = 9223372034707292160$. In other words&nbsp;&nbsp;, the operation is under modulo $p$. <br><br>And now, Mike has got a list of operations. One operation is to push buttons between from $l$-th to $r$-th (both included), and record the number on the screen. He is tired of this stupid work, so he asks for your help. Can you tell him, what are the numbers recorded.<br><br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line contains an integer $T$($T \le 5$), denoting the number of test cases.<br><br>For each test case, the first line contains two integers $n, m$($1 \leq n, m\leq 10^5$).<br><br>The next line contains $n$ integers $a_i$($0 \leq a_i &lt; p$), which means the initial values of the $n$ cells.<br><br>The next $m$ lines describe operations. In each line, there are two integers $l, r (1 \leq l \leq r \leq n)$, representing the operation.<br><br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output ''Case #t:'', to represent this is the $t$-th case. And then output the answer for each query operation, one answer in a line.<br><br>For more details you can take a look at the example.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
4 4
2 3 4 5
1 2
2 3
3 4
1 4
1 3
2
1 1
1 1
1 1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
5
18
39
405
Case #2:
2
6
22</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=The+2015+ACM-ICPC+China+Shanghai+Metropolitan+Programming+Contest&source=1&searchmode=source"> The 2015 ACM-ICPC China Shanghai Metropolitan Programming Contest </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>