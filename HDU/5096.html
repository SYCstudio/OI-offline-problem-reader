<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>ACM Rank</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5096. ACM Rank</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：4000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   &quot;…… A problem is solved when it is accepted by the judges.  Teams are ranked according to the most problems solved. Teams who solve the same number of problems are ranked by least total time. The total time is the sum of the time consumed for each problem solved. The time consumed for a solved problem is the time elapsed from the beginning of the contest to the submittal of the accepted run plus 20 penalty minutes for every rejected run for that problem regardless of submittal time. There is no time consumed for a problem that is not solved.&quot;<br>                                                                             - ACM/ICPC Contest Rules<br><br>You are writing a new ranking system for ACM/ICPC Contests. During a contest, you may receive the following kinds of request from participants:<br><br>●   <b>Submission</b><br>(Format:  S [minute]:[Team No]:[Problem ID]:[Result])<br>If a team submits a problem which they have already solved, or the last valid submission of the same team is less than 5 minutes ago, then this submission should be considered invalid and ignored by your system; otherwise, the submission is valid and saved for further processing - if the result is 1 (Correct), then this submission should be considered accepted by the system. <br><br>●   <b>Query a team's rank on the rank list.</b><br>(Format: R [Team No]) <br>Sort the teams according to the contest rules mentioned above. A tie may occur between two teams who solved equal number of problems and same penalty. <br>A rank list example can see below.<br><br><center><img style='max-width:100%;' src=./data/images/C541-1007-1.jpg></center><br>Two teams who solved same amount of problems and have same penalty always have same rank.<br><br>●   <b>Query the team with rank K on the rank list.</b><br>(Format: T [k])<br>If a tie occurs, i.e. there are more than one team with rank K, return the team which the first get last accepted submission (according to the input order) (If they are all zero solved problem , just return the team with small number). If there is not a team with rank K, return -1 instead.<br><br>   Initially every team has no submissions, and the contest will last no more than 5 hours.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   There are multiple test cases in the input. Each test case starts with two integers, N and M, (1 &lt;= N &lt;= 10000, 1 &lt;= M &lt;= 10), the number of teams participating in the competition, and the total number of problems in the contest. Teams are numbered from 0 to N - 1. Each of the following lines is either in one of the three formats listed above, or a single line &quot;Contest Ends&quot; followed by an empty line indicating the end of current test case. It is guaranteed that there are no more than 100000 requests in each test case. Input ends with End-of-File.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   For every submission request, if the submitted program is accepted, you need to output a line whose format is [Team No] [Problem ID]; for every query about team's rank on the rank list, output the result in one single line; for every query about the team with the rank K, if a team is found, output a line with one integer, the number of the team, or -1 if you are unable to find such a team. Please print a blank line after each test case. If there are multiple teams with rank K, output the team which the first get last accepted submission (according to the input order) (If they are all zero solved problem , just return the team with small number).</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">5 8
S 5:0:A:0
S 8:0:A:1
S 9:1:B:1
S 15:0:A:1
T 1
T 2
T 3
R 0
R 1
R 2
R 3
Contest Ends</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">[1][B]
[0][A]
1
0
2
2
1
3
3</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014%C9%CF%BA%A3%C8%AB%B9%FA%D1%FB%C7%EB%C8%FC%A1%AA%A1%AA%CC%E2%C4%BF%D6%D8%CF%D6%A3%A8%B8%D0%D0%BB%C9%CF%BA%A3%B4%F3%D1%A7%CC%E1%B9%A9%CC%E2%C4%BF%A3%A9&source=1&searchmode=source"> 2014上海全国邀请赛——题目重现（感谢上海大学提供题目） </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>