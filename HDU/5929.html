<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Basic Data Structure</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5929. Basic Data Structure</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：7000/3500 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Mr. Frog learned a basic data structure recently, which is called stack.There are some basic operations of stack：<br><br>$\bullet $ PUSH x： put x on the top of the stack, x must be 0 or 1.<br>$\bullet $ POP： throw the element which is on the top of the stack.<br><br>Since it is too simple for Mr. Frog, a famous mathematician who can prove &quot;Five points coexist with a circle&quot; easily, he comes up with some exciting operations：<br><br>$\bullet $REVERSE： Just reverse the stack, the bottom element becomes the top element of the stack, and the element just above the bottom element becomes the element just below the top elements... and so on.<br>$\bullet $QUERY： Print the value which is obtained with such way： Take the element from top to bottom, then do <b>NAND</b> operation one by one from left to right, i.e. If&nbsp;&nbsp;$a_{top},a_{top-1},\cdots , a_1$ is corresponding to the element of the Stack from top to the bottom, $value = a_{top}$ nand $a_{top-1}$ nand ... nand $a_1$. Note that the Stack <b>will not</b> change after QUERY operation. Specially, if the Stack is empty now，you need to print ”<b>Invalid</b>.”(without quotes).<br><br>By the way, <b>NAND</b> is a basic binary operation：<br><br>$\bullet $ 0 nand 0 = 1<br>$\bullet $ 0 nand 1 = 1<br>$\bullet $ 1 nand 0 = 1<br>$\bullet $ 1 nand 1 = 0<br><br>Because Mr. Frog needs to do some tiny contributions now, you should help him finish this data structure： print the answer to each QUERY, or tell him that is invalid.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line contains only one integer T ($T \leq 20$), which indicates the number of test cases.<br><br>For each test case, the first line contains only one integers N ($2 \leq N \leq 200000$), indicating the number of operations.<br><br>In the following N lines, the i-th line contains one of these operations below：<br><br>$\bullet $ PUSH x (x <b>must</b> be 0 or 1)<br>$\bullet $ POP<br>$\bullet $ REVERSE<br>$\bullet $ QUERY<br><br>It is guaranteed that the current stack will not be empty while doing POP operation.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, first output one line &quot;Case #x：w, where x is the case number (starting from 1). Then several lines follow,&nbsp;&nbsp;i-th line contains an integer indicating the answer to the i-th QUERY operation. Specially, if the i-th QUERY is invalid, just print &quot;<b>Invalid.</b>&quot;(without quotes). (Please see the sample for more details.)<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
8
PUSH 1
QUERY
PUSH 0
REVERSE
QUERY
POP
POP
QUERY
3
PUSH 0
REVERSE
QUERY</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
1
1
Invalid.
Case #2:
0
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
In the first sample： during the first query, the stack contains only one element 1, so the answer is 1. then in the second query, the stack contains 0, l
(from bottom to top), so the answer to the second is also 1. In the third query, there is no element in the stack, so you should output Invalid. 
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2016CCPC%B6%AB%B1%B1%B5%D8%C7%F8%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC+-+%D6%D8%CF%D6%C8%FC&source=1&searchmode=source"> 2016CCPC东北地区大学生程序设计竞赛 - 重现赛 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>