<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Poker</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5460. Poker</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：3000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：65535/102400 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Given $N$ cards in poker and an integer $Q$. Choose several cards and form an expression, whose result equals to $Q$, via addition, subtraction, multiplication and division. Each expression, which meet the requirements, with $x$ cards can earn $x^2$ points. The intermediate value for each step must be an non-negative integer.<br><br>You need to calculate how many points you can get. Your attention, two expressions are different if and only if the prefix expressions of them are different. In others words, if an expression can transform to another through commutative law or associative law, these two expressions are considered distinct.<br><br>Moreover, two cards with the same number are also viewed different.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There is one integer $T~(1&lt;T\le 13)$ in the beginning of input, which means that you need to process $T$ test cases. In each test case, two integers $N~(1&lt;N\le 8)$ and $Q~(0\le Q\le 32)$, as the problem described above, are shown in the first line. And in the second line are $N$ integers $A_i~(1\le A_i\le 13)$, indicating $N$ numbers on the cards.<br><br>You may assume that there are at most two test case containing $N=8$.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, you should print one non-negative integer as the total points you can get, in a line.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
3 12
3 3 4
3 12
9 5 3</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: 16
Case #2: 26
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
In the first test case, there are four expressions:
    3(A) × 4 = 12
    4 × 3(A) = 12
    3(B) × 4 = 12
    4 × 3(B) = 12
3(A) is the first card of three, and 3(B) is the second card of three. Each expression earn 4 points, so the answer is 16.
in the second test case, there are four expression:
    9 + 3 = 12
    3 + 9 = 12
    (9 - 5) × 3 = 12
    3 × (9 - 5) = 12
The form two expressions cost 4 points each, and the latter two cost 9 points each. Thus, the answer is 26.
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2015+ACM%2FICPC+Asia+Regional+Shenyang+Online&source=1&searchmode=source"> 2015 ACM/ICPC Asia Regional Shenyang Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>