<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Roman Expressions</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU2326. Roman Expressions</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：3000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">As any other marketing company, ACM produces a lot of funky advertising items that may contain a logo and be given to customers and business partners as small gifts. A unique specialty of ACM is a calculator that uses roman numbers.<br><br>Roman numbers are able to express any non-negative integer using uppercase letters:<br><img style='max-width:100%;' src=./data/images/2326-1.jpg><br>Numbers are created by appending several letters together, the letter representing a higher value must always precede letters with lower values. The only exception are the letters “I”, “X”, and “C”, they may be used before higher letters to form values expressed by digits 4 and 9. The only possible combinations are:<br><img style='max-width:100%;' src=./data/images/2326-2.jpg><br>Any roman number must first express thousands, then hundreds, tens, and ones. Therefore, 499 must always be written as “CDXCIX”, not “ID”.<br><br>Although not very practical, this gift is considered extremely “cooooool”. Your task is to write software for that calculator.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input will consist from commands, each written on a separate line. Possible commands are<br>assignments, “RESET”, and “QUIT”.<br>An assignment command starts with a single digit representing one of ten registers that the<br>calculator has. The register number is followed by an equal sign (“=”) and an expression. The<br>expression will consist only from valid roman numbers, register names (digits), plus (“+”) and<br>minus (“-”) signs. You may assume that the expression will always be valid and no longer than<br>10000 characters.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each command, output a single line. For assignments, print the register name, equal sign,<br>and the value that is being assigned to that register. Instead of it, print the word “Error”, if the<br>expression contains a reference to a register that has not been assigned before, or if the result<br>is negative or larger than 10000. In such cases, no change to register values is made.<br>For RESET commands, invalidate all previous register assignments and print the word “Ready”.<br>The QUIT command will be the last one. Print the word “Bye” and terminate the program.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1=MC+IV-X
1=1+1
RESET
1=1+X
1=MM
1=1+1+1+1+1
2=1+1
QUIT</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1=MXCIV
1=MMCLXXXVIII
Ready
Error
1=MM
1=MMMMMMMMMM
Error
Bye</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=CTU+Open+Contest+2007&source=1&searchmode=source"> CTU Open Contest 2007 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>