<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>The Beijing-Hangzhou Grand Canal</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3324. The Beijing-Hangzhou Grand Canal</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The Beijing-Hangzhou Grand Canal is the longest artificial canal, in which many transportation companies run their boats. Each transportation company is responsible for transporting on one leg of the river. For the regulations  of the GBs, each company is only allowed to have the same type boats. <br><br>The sands of the river keep changing  the depth of the water. Boats will get stranded if the water depth is less than the waterline, so the GM often digs the riverbed to maintain watercourse to transport smoothly.<br><br>Mr April wants to send a gift to Ms April for her birthday via the canal. But he do not know whether the watercourse is smooth, he turns to intelligent you for help to tell him whether he can deliver the gift or not.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">In the first line ,there are 3 non-negative interger , S, H and X, S stands for the length of the river, H is the original depth of the water, and there are X transportation companies.<br><br>Then follow  X  lines, in  the (1+i)th line ,there are 3 numbers, a , b, and c, indicate Company i is responsible for the transportation between a and b, and c is the waterline of the boats from the company.<br><br>In (X+2)th line there is an interger Q , indicating there would be Q command lines. There are 4 variations of the command.<br><br>(1)F a b h  meaning  for sand silting, from a to b of the river the water depth has reduce to h meters,but those places where the depth is less than     h meters remain the same.<br><br>(2)D a b h indicating the GM is trying removing the sand silting and the water depth reaches h meters ,but those places where the depth is more than h meters keeps the same.<br><br>(3)O a b implying Mr April wants to know whether there is a possible ways to deliver the gift from a to b. In other words, he wants to find a way to cover the segment [a, b] or [b,a] by one or some company's available boats.<br><br>(4)C a h saying Company a has changed all its boats to new ones which has the waterline as h.<br><br>0&lt;S&lt;100000, 0&lt;=x&lt;=100,0&lt;=H &lt;=1000, 0&lt;=Q&lt;=1000</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each asking from Mr April ,responds “Yes” if it’s possible to deliver the gift, “No” if not.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">10 2 2
1 6 4
5 8 2
8
O 5 7
O 3 7
D 3 5 4
O 3 7
F 6 7 1
O 3 7
C 2 1
O 3 7
4 3 2
1 2 1
3 4 2
1
O 2 3</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Yes
No
Yes
No
Yes
Yes</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=HDU+%A1%B0Valentines+Day%A1%B1+Open+Programming+Contest+2010-02-14+&source=1&searchmode=source"> HDU “Valentines Day” Open Programming Contest 2010-02-14  </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>