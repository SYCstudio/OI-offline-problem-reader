<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Sparrow</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4743. Sparrow</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Sparrow is a kind of game. Four players (1,2,3,4) sits around a table. They take turns to act. Player i+1 is next to player i(i = 1,2,3) and player 1 is next to player 4 <br><br>There are two categories of tiles in this game:<br>1) Simple tiles:<br>Simple tiles have 27 kinds: A1,A2...A9, B1,B2...B9 and C1,C2...C9. Each kind have 4 copies.<br><br>2) Honor tiles:<br>Honor tiles have seven kinds: E, S, W, N, Z, F, 0(zero) . Each of them also have 4 copies.<br><br>Several tiles can form a good set. There are 4 kinds of good set:<br><br>1) Pong is a set of three identical tiles.<br>2) Kong is a set of four identical tiles.<br>3) Chow is a set of three continuous SIMPLE tiles which have the same leading letter, such as  A2,A3 and A4, or C7,C8 and C9.  A1,B2 and A3 don't form a Chow because their leading letters are not the same.<br>4) Eye is a set of two identical tiles.<br><br>A tile can't belong to more than one good set.<br><br>A tile can be in one of three state:<br>1)  On the wall.<br>2)  Belongs to one player and faces down.<br>3)  Belongs to one player and faces up.<br><br>At the beginning of the game, some tiles are on the wall, some tiles belong to players and face down.  Then they play round by round. They draw tiles from the wall, discard some tiles, make some tiles face up, until a player declares that he/she holds a winning hand, or there is no tiles on the wall.<br><br>One player holds a winning hand, if and only if he can split his face-down tiles into zero, one or several sets of Pong/Chow, plus one set of Eye. A winning hand could be:<br>&nbsp;&nbsp;{E, E, E, N, N, N, 0, 0}, or {C1, C2, C3, B5, B5}<br>The one who declares a winning hand wins the game. <br><br>In each round, mostly , the round owner draw a tile from the wall and put it face-down. If the round owner finds out that the he/she has a winning hand, he/she will declare it and win the game. If no so, the round owner choose one (we call it T)of his face-down tiles to discard. Then comes the &quot;declare phase&quot;. The other 3 players looks into their FACE-DOWN tiles, and may do 3 kinds of declarations below:<br>&nbsp;&nbsp;<br>1) D0: declare a winning hand<br><br>If T can form a winning hand after one player owns it, this player can own T and declare a winning hand.<br><br>2) D1: declare a Pong.<br><br>If T forms a Pong set after one player owns it, then that player owns T, declares this Pong set,  and changes the 3 tiles of the declared Pong set into face-up.<br><br>3)D2: declare a Kong.<br>Similar to D1, that player owns T , declare this Kong set, , and changes the 4 tiles of the declared Kong set into face-up.<br><br>In &quot;declare phase&quot;, first they will ask each other whether someone want to declare a D0. If everyone give up, go on asking for D1. If no one declare a D1, go on asking D2.<br><br>If multiple declares happen at the same time, the player with the smallest id get T.<br><br>A declare will end a round. If one player declares, he gets T and becomes the owner of the next round. However, after D1 the new round owner does not draw a tile from the wall, he/she just discards a tile . After D2, the new round owner draws a tile then discards a tile. <br><br>If no one declare in the &quot;declare phase&quot;, the player next to the round owner becomes the new round owner and draw a tile from the wall.<br><br>At any time, if someone gets a winning hand, the game ends. If one needs to draw a tile from the wall, but the wall has no more tiles, then the game ends with no winner.<br><br>One day, Alice and Bob suddenly want to play sparrow. But sparrow needs four players, and they could not find anyone in a moment. So they decide to play a two-man sparrow, that is, Alice will act as player 1 and player 3, and Bob will act as player 2 and player 4. Both of them control two roles at the same time.<br><br>Alice and Bob are very very clever children. And they both have a super gift: perspective. They can see any tile, even if it's face-down on the wall, or face-down owned by the other player!<br><br>(Now, you know why they can find no one playing sparrow with them ^o^ )<br><br>The game goes very exciting!(oh it makes nonsense, since they know what tiles the other holds, and they are both clever enough to find the other's strategy) And finally, it comes to such a situation that: after player 4 discards a tile, no one declare and player 1 (controled by Alice) becomes the round owner. Alice is ready to draw a tile. <br><br>There are only N tiles on the wall. All four players each have ten face-down tiles.<br><br>Decide whether Alice or Bob could win the game, if both of them act the optimal way.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">First line is an integer Q: the number of input data set.<br>Then comes Q input set, each with 5 lines. The first 4 lines each describe ten tiles of player 1..4.<br><br>The fifth line of each dataset describes the tiles on the wall. First the integer N, then comes N tiles in order.<br><br>There may be extra blank lines and spaces in the input file. Q&lt;=20, and N&lt;=4.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">If Alice could win the game, print &quot;Alice win&quot;;<br>If Bob could win the game, print &quot;Bob win&quot;;<br>Otherwise, print &quot;tie&quot;.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">3
A1 A1 A1 A2 A2 A2 A3 A3 A3 A8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
2  A5 B4
A1 A1 A1 A2 A2 A2 A3 A3 A3 B8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
2  A5 B4
A1 A1 A1 A2 A2 A2 A3 A3 A3 B8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
1  Z</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Bob win
Alice win
tie</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2013+ACM%2FICPC+Asia+Regional+Hangzhou+Online&source=1&searchmode=source"> 2013 ACM/ICPC Asia Regional Hangzhou Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>