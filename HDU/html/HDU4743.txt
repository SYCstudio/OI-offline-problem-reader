<html><head><meta name=keywords content="HDOJ ACM ICPC OJ C C++ Pascal Java"><meta http-equiv=Content-Type content="text/html;charset=gb2312"><link rel=stylesheet type=text/css href="/images/global.css" media=all><link rel=stylesheet type=text/css href="/css/diyinhead.css" media=all><link rel=stylesheet type=text/css href="/css/webinhead.css" media=all><script src="/js/global.js" type=text/javascript></script><script src="/js/register.js" type=text/javascript></script><script src="/js/MathJax/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><title>Problem - 4743</title></head><body >
<a name=top></a>
<table align=center cellSpacing=0 cellPadding=0 width=980 border=0 style="word-wrap:break-word">
<tr>
	<td style="border:#1A5CC8 1px solid" align=center width=100%>
		<a href="/">
			<img src="/images/banner.jpg" width="100%" height=116 border=0>
		</a>
	</td>
</tr>
<tr>
	<td style="border:#1A5CC8 1px solid">
	<table cellSpacing=0 cellPadding=1 width="979px">
	<tr bgcolor=#1A5CC8 align=center class=banner height=25>
		<td>Online Judge</td>
		<td>Online Exercise</td>
		<td>Online Teaching</td>
		<td>Online Contests</td>
	<td>Exercise Author</td>
	</tr>
	<tr style="font-size:16px" align=center>
		<td width=20% valign=top>
		<a href="/faq.php" style="text-decoration: none">F.A.Q</a><br>
		<a href="/friends" style="text-decoration: none">Hand In Hand</a><br>
		<a href="/onlineuser.php" style="text-decoration: none">Online Acmers</a>	<br>
		<!-- /onlineuser.php-->
		
		<a href="/forum" style="text-decoration: none">Forum | </a><a href="/discuss/public/list.php" style="text-decoration: none">Discuss</a><br>
		<a href="/statistic/submit_graph.php" style="text-decoration: none">Statistical Charts</a><br>
		</td>
		<td width=20% valign=top>
		<form action="/search.php" method=get>
		<a href="/listproblem.php?vol=1" style="text-decoration: none">Problem Archive</a><br/>
		<!--<a href="http://feeds.feedburner.com/Hdoj-problemset"><img src="/images/rss1.jpg" alt="problemset" style="vertical-align:text-bottom;"width=20 height=20></a><br>-->
		<!--
			 <a href="/submit.php">Submit Solution</a><br>
		-->	
		<a href="/status.php" style="text-decoration: none">Realtime Judge Status</a><br>

		<a href="/ranklist.php" style="text-decoration: none">Authors Ranklist</a><br>
		<input name=field value=author type=hidden><input class=text60 name=key>&nbsp;<input class=button40 type=submit value=Search>
		
		<!--
			<input name=field value=problem type=hidden><input class=text60 name=key>&nbsp;<input class=button40 type=submit value=Search>
		-->
		</form>
		</td>
		<td width=20% valign=top>
		 <form action='/search.php' method=get> 
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none" href="http://code.hdu.edu.cn/">C/C++/Java Exams &nbsp;&nbsp;&nbsp;&nbsp;</a><br/>
		<a style="text-decoration: none" href="/game">ACM Steps</a><br/>
		<a href = "/ITJobs/">Go to Job</a><br/>	
		<a href="/livecast" style="text-decoration: none">Contest LiveCast</a><br/>
		<a style="text-decoration: none" href="/region">ICPC@China</a><br/>
		<!-- <a href="/register.php">Register New Author</a><br> -->
		<!-- <a href="/modifyuser.php">Update Your Information</a><br> -->
		</form>
		</td>
		<td width=20% valign=top>
		<a href="http://bestcoder.hdu.edu.cn" style="text-decoration: none; color: red; font-weight: bold;">Best Coder <sup style="color: gray;">beta</sup></a><br/><a href="/vip/contest_list.php" style="text-decoration: none">VIP</a> | <a href="/contests/contest_list.php" style="text-decoration: none">STD Contests</a><br /><a href="http://code.hdu.edu.cn/vcontest" style="text-decoration: none">Virtual Contests </a><br/>&nbsp;&nbsp;<a href="/diy/contest_list.php" style="text-decoration: none">&nbsp;&nbsp;DIY | </a><a href="/webcontest" style="text-decoration: none"><font color="">Web-DIY</font> <font size=1 color="gray"><sup>beta</sup></font></a><br/><a style="text-decoration: none" href="/recentcontest">Recent Contests</a><br/>		</td>
		<td width=20%>
					<form method=post action="/userloginex.php?action=login">
			  <table width=168 border=0 align=center cellspacing=0>
			  	<tr><td align=center colspan=2><a href="/qqlogin/oauth/login.php"><img src="/qqlogin/images/qqlogin.png" border="0" /></a></td></tr>
				<tr><td width=68>Author ID&nbsp;</td><td align=right><input name=username type=text class=text90 maxlength=20></td></tr>
				<tr><td>Password&nbsp;</td><td align=right><input name=userpass type=password class=text90 maxlength=20></td></tr>
			  </table>
			  <input name=login type=submit class=button40 value="Sign In">&nbsp;<a href="http://bestcoder.hdu.edu.cn/register.php?url=acm.hdu.edu.cn/userloginex.php?action=login" style="text-decoration: none">Register new ID</a>
			</form>
						</td>
	</tr>
	</table>
	</td>
</tr>
<tr>
	<td>
		<div align=center id=rollword><marquee scrollamount=2 width=600 scrolldelay=30 onMouseOver="javascript:this.stop();" onMouseOut="javascript:this.start();"><b style="margin-right:20px"></b></marquee></div>	</td>
</tr>
<tr><td align=center><h1 style='color:#1A5CC8'>Sparrow</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 60&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 0<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Sparrow is a kind of game. Four players (1,2,3,4) sits around a table. They take turns to act. Player i+1 is next to player i(i = 1,2,3) and player 1 is next to player 4 <br><br>There are two categories of tiles in this game:<br>1) Simple tiles:<br>Simple tiles have 27 kinds: A1,A2...A9, B1,B2...B9 and C1,C2...C9. Each kind have 4 copies.<br><br>2) Honor tiles:<br>Honor tiles have seven kinds: E, S, W, N, Z, F, 0(zero) . Each of them also have 4 copies.<br><br>Several tiles can form a good set. There are 4 kinds of good set:<br><br>1) Pong is a set of three identical tiles.<br>2) Kong is a set of four identical tiles.<br>3) Chow is a set of three continuous SIMPLE tiles which have the same leading letter, such as  A2,A3 and A4, or C7,C8 and C9.  A1,B2 and A3 don't form a Chow because their leading letters are not the same.<br>4) Eye is a set of two identical tiles.<br><br>A tile can't belong to more than one good set.<br><br>A tile can be in one of three state:<br>1)  On the wall.<br>2)  Belongs to one player and faces down.<br>3)  Belongs to one player and faces up.<br><br>At the beginning of the game, some tiles are on the wall, some tiles belong to players and face down.  Then they play round by round. They draw tiles from the wall, discard some tiles, make some tiles face up, until a player declares that he/she holds a winning hand, or there is no tiles on the wall.<br><br>One player holds a winning hand, if and only if he can split his face-down tiles into zero, one or several sets of Pong/Chow, plus one set of Eye. A winning hand could be:<br>&nbsp;&nbsp;{E, E, E, N, N, N, 0, 0}, or {C1, C2, C3, B5, B5}<br>The one who declares a winning hand wins the game. <br><br>In each round, mostly , the round owner draw a tile from the wall and put it face-down. If the round owner finds out that the he/she has a winning hand, he/she will declare it and win the game. If no so, the round owner choose one (we call it T)of his face-down tiles to discard. Then comes the &quot;declare phase&quot;. The other 3 players looks into their FACE-DOWN tiles, and may do 3 kinds of declarations below:<br>&nbsp;&nbsp;<br>1) D0: declare a winning hand<br><br>If T can form a winning hand after one player owns it, this player can own T and declare a winning hand.<br><br>2) D1: declare a Pong.<br><br>If T forms a Pong set after one player owns it, then that player owns T, declares this Pong set,  and changes the 3 tiles of the declared Pong set into face-up.<br><br>3)D2: declare a Kong.<br>Similar to D1, that player owns T , declare this Kong set, , and changes the 4 tiles of the declared Kong set into face-up.<br><br>In &quot;declare phase&quot;, first they will ask each other whether someone want to declare a D0. If everyone give up, go on asking for D1. If no one declare a D1, go on asking D2.<br><br>If multiple declares happen at the same time, the player with the smallest id get T.<br><br>A declare will end a round. If one player declares, he gets T and becomes the owner of the next round. However, after D1 the new round owner does not draw a tile from the wall, he/she just discards a tile . After D2, the new round owner draws a tile then discards a tile. <br><br>If no one declare in the &quot;declare phase&quot;, the player next to the round owner becomes the new round owner and draw a tile from the wall.<br><br>At any time, if someone gets a winning hand, the game ends. If one needs to draw a tile from the wall, but the wall has no more tiles, then the game ends with no winner.<br><br>One day, Alice and Bob suddenly want to play sparrow. But sparrow needs four players, and they could not find anyone in a moment. So they decide to play a two-man sparrow, that is, Alice will act as player 1 and player 3, and Bob will act as player 2 and player 4. Both of them control two roles at the same time.<br><br>Alice and Bob are very very clever children. And they both have a super gift: perspective. They can see any tile, even if it's face-down on the wall, or face-down owned by the other player!<br><br>(Now, you know why they can find no one playing sparrow with them ^o^ )<br><br>The game goes very exciting!(oh it makes nonsense, since they know what tiles the other holds, and they are both clever enough to find the other's strategy) And finally, it comes to such a situation that: after player 4 discards a tile, no one declare and player 1 (controled by Alice) becomes the round owner. Alice is ready to draw a tile. <br><br>There are only N tiles on the wall. All four players each have ten face-down tiles.<br><br>Decide whether Alice or Bob could win the game, if both of them act the optimal way.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>First line is an integer Q: the number of input data set.<br>Then comes Q input set, each with 5 lines. The first 4 lines each describe ten tiles of player 1..4.<br><br>The fifth line of each dataset describes the tiles on the wall. First the integer N, then comes N tiles in order.<br><br>There may be extra blank lines and spaces in the input file. Q&lt;=20, and N&lt;=4.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>If Alice could win the game, print &quot;Alice win&quot;;<br>If Bob could win the game, print &quot;Bob win&quot;;<br>Otherwise, print &quot;tie&quot;.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
A1 A1 A1 A2 A2 A2 A3 A3 A3 A8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
2  A5 B4
A1 A1 A1 A2 A2 A2 A3 A3 A3 B8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
2  A5 B4
A1 A1 A1 A2 A2 A2 A3 A3 A3 B8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
1  Z</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Bob win
Alice win
tie</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href="/search.php?field=problem&key=2013+ACM%2FICPC+Asia+Regional+Hangzhou+Online&source=1&searchmode=source"> 2013 ACM/ICPC Asia Regional Hangzhou Online </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>liuyiding</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=4743'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=4743'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=4743">Discuss</a> | <a href='note/note.php?pid=4743'>Note</a><br></td></tr><tr>
<td>
	<table style="border:#1A5CC8 1px solid; font-size:14px" cellSpacing=0 cellPadding=1 width=100%>
	<tr align=center>
		<td class=footer_link height=45><a href="/">Home</a> | <a href=#top>Top</a></td>
		<td style="padding:6px">
			Hangzhou Dianzi University Online Judge 3.0<br>
			Copyright &copy; 2005-2018 <a href=mailto:acm@hdu.edu.cn>HDU ACM Team</a>. All Rights Reserved.<br>
			<a href="../about_us/developer.php">Designer & Developer </a>: <a>Wang Rongtao</a>&nbsp<a>LinLe</a>&nbsp<a href=mailto:gjavac@gmail.com >GaoJie</a>&nbsp<a href=mailto:gl8997@gmail.com >GanLu</a><br>
			<span class=pagerunstatus>Total 0.015600(s) query 2, Server time : 2018-07-07 23:55:26, Gzip disabled</span>		</td>
		<td class=footer_link>
			<!-- <a href="javascript:history.go(-1);">Back</a> | <a href="javascript:history.forward();">Forward</a>-->
			<a href="/admin">Administration</a>	
		</td>
	</tr>
	</table>
</td>
</tr>
</table>
</body></html>
