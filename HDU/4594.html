<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Script Z</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4594. Script Z</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：20000/10000 MS (Java/Others)</span> <span class="ui label">时间限制：131072/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Recently, Programmer Zero have made a new script programming language, named Script Z. He is so proud of his new language, that he wrote many programs in Script Z. Unfortunately, he found his script works strangely, and he had no idea what happened. So he wants you to write a Script Z Interpreter for him.<br>Here are some information about Script Z:<br>1. <strong>Variable</strong>: All variable names start with symbol $, and the name of the variable should only contains letters (upper case and lower case), numbers and underlines (_). The first character of the number can be any legal character for the variable. For example, $a $c $t $0 $2 $_ are all legal variable names, while $0-a, $0%b are illegal ones. Variables can be assigned many times during the processing of the script. The length of variable name is no larger than 32. (Does not include the first $ symbol, so the max length of variable name will be 33 with symbol $).<br>2. <strong>Constant</strong>: All constant names must start with letters (upper case and lower case), and should only contains letters (upper case or lower case), numbers and underlines (_). For example, A B A10 B_123 are legal constant names, while 5A 4_b are illegal ones. Constants can be assigned at most once. The length of constant name is no larger than 32.<br>3. <strong>White spaces</strong>: Spaces (' ', ord(' ') == 32) and tabs ('\t', ord('\t') == 9).<br>4. <strong>Lines</strong>: All lines are terminated with character LF('\n', ord('\n') == 10). Each line should be a statement or a blank line.<br>5. <strong>Statement</strong>: There will be exactly one statement in one line (except blank lines). The white spaces at the beginning and the end of the statement should be ignored. <br>6. <strong>Blank lines</strong>: One line that contains only white spaces or no character.<br>7. <strong>Data Types</strong>:<br>Integer: All integer contains only numbers ([0-9]). The length of integer is not larger than 100.<br>String: All string values are quoted with double quotes (&quot;), and there won’t be any other double quotes in the string value. All characters in the string are printable[ We call a character printable, if and only if the ASCII code of the character is not smaller than 32 and is not larger than 127.]. The length of string (without double quotes) is not larger than 100. (The length is not larger than 102 if with double quotes.)<br>There are 5 kinds of statement in Script Z:<br>1. <strong>Assignment</strong>:<br>$Variable = Value<br>Constant = Value<br>Notice: there may be none or any number of white spaces before and after the equal sign (=).<br>The value can be either an integer or a string, and won’t be a reference of variable or constant. <br>The following assignment are legal: <br>$a = 1<br>$b = 2<br>$b = 3<br>$_ = &quot;a&quot;<br>$ok = &quot;true&quot;<br>$long = 123456789012345678901234567890<br>CONST = 1<br>CONST_STRING = &quot;sample&quot;<br>EMPTY = &quot;&quot;<br>And these are illegal: <br>$a = $b<br>CONST_STRING = a<br>BOOLEAN = false<br>FLOAT = 1.5<br>EMPTY =<br>2. <strong>Output</strong>:<br>Print $Variable<br>Print Constant<br>There are at least one white space between Print and variable or constant. For each output statement, your program should print the value of the variable or the constant. No double quotes are needed if the value is string. If the variable is undefined, you should print NULL, and if the constant is undefined, you should print the name of the constant. And also remember to take a look of error reporting part.<br>3. <strong>Dump</strong>: <br>Dump $Variable<br>Dump Constant<br>There are at least one white space between Dump and variable or constant. For each dump statement, your program should print the type and the value of the variable or the constant. Double quotes are needed if the value is string. If the variable is undefined, you should print NULL, and if the constant is undefined, you should regard the constant name as a string to be the value of the constant. And also remember to take a look of error reporting part. Use the format in sample output.<br>4. <strong>Error reporting</strong>: <br>Errmsg ON|OFF<br>There are at least one white space between Errmsg and ON or OFF. Errmsg ON turns on the error reporting while Errmsg OFF turns off. Error reporting is turned on if not specified. If error reporting is turned on, after each statement, you should:<br>(1) You should print one line if there are undefined variable in Print or Dump statement:<br>NOTICE: Undefined Variable ${var_name}.<br>You should replace ${var_name} with the name of variable.<br>(2) You should print one line if there are undefined constant in Print or Dump statement:<br>NOTICE: Undefined Constant {const_name}.<br>You should replace {const_name} with the name of constant.<br>(3) You should print one line if an assignment are trying to assign an assigned constant:<br>WARNING: Constant {const_name} Already Defined!<br>You should replace {const_name} with the name of constant. And you should ignore this assign statement even if the error reporting is turned off (The value of the constant should not be changed).<br>5. <strong>Terminate</strong>:<br>Panic<br>Your program should print one line and exit after this statement:<br>Script was KILLED.<br>You should ignore all statements after the terminate statement.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Input contains multiple test cases. The first line of the input contains exactly one integer T, which means the number of test cases. (T &lt;= 10)<br>For each test case, the first line contains exactly one integer N, which means the lines of the script. (N &lt;= 100000)<br>The next N lines, contains the statement of the script. Each line is no longer than 256 characters.<br>You are guaranteed that all statement, variable name, constant name are legal.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, print the output of the script.<br>Use one blank line to split test cases, no blank line should exist at the end of the last test case. (Only one line terminator '\n')</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
13
Errmsg ON
$a = 1
$b = 2
$c = 3
Print $a
Print $d
Dump $c
Errmsg OFF
Print $_
Print OK
Panic
Errmsg ON
Print A
13
Errmsg ON
$A = 3
$B = 5
Print $a
Print $B
A = 5
A = 10
Print A
Errmsg OFF
B = ""
B = "A"
Dump B
Dump C</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
NULL
NOTICE: Undefined Variable $d.
integer: 3
NULL
OK
Script was KILLED.

NULL
Notice: Undefined Variable $a.
5
WARNING: Constant A Already Defined!
5
string: ""
string: "C"
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
The problem itself is easy of course. But some of the test cases of this problem are strange and annoying. Be careful!
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2013+ACM-ICPC%C4%CF%BE%A9%C8%FC%C7%F8%C8%AB%B9%FA%D1%FB%C7%EB%C8%FC%A1%AA%A1%AA%CC%E2%C4%BF%D6%D8%CF%D6&source=1&searchmode=source"> 2013 ACM-ICPC南京赛区全国邀请赛——题目重现 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>