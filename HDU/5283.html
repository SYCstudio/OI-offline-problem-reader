<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Senior's Fish</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5283. Senior's Fish</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：14000/7000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Xuejiejie loves to eat fish. One day, she goes to a pond for fishing. The pond can be seen as a two-dimensional surface, and her fishing net can be seen as a rectangle. One of the edges of the rectangle is parallel to the x-axis ,and another is parallel to y-axis. The fishes can be seen as points. Sometimes the fishes will enter the net, and sometimes they will leave the net. So, Xuejiejie doesn't know the appropriate time to draw the net in when she will get as many fishes as possible. <br><br>Xuejiejie assigns each fish with a number, from 1 to $n$, $n$ being the total number. There are 2 types of movements of the fishes:<br><br>1 l r d : the fishes index between the interval [l，r] moved towards the x-axis for length d (For example , if a fish's current position is $(x,y)$ , after moving , its position will change to $(x+d,y)$. )<br><br>2 l r d : the fishes index between the interval [l，r] moved towards the y-axis for length d (For example , if a fish's current position is $(x,y)$, after moving , its position will change to $(x,y+d)$. )<br><br>And sometimes Xuejiejie will ask you some questions.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">In the first line there is an integer $T$, indicates the number of test cases.<br><br>In each case:<br><br>The first line includes an integer $n$ indicating the total number of fish.<br><br>The second line includes 4 integers $x1$，$y1$，$x2$，$y2$，indicating the  position of the fishing net. $(x1,y1)$ means the lower-left position, and $(x2,y2)$ means the top-right position.<br><br>The next n lines: each line includes $x[i],y[i]$; means the fish i's initial position.<br><br>The next line includes an integer $m$.<br><br>The next $m$ lines describe the events you have to deal with.<br><br>In each line the first integer is $c$ ($1\leq c\leq 3$), which indicates the type of events.<br><br>1 l r d : the fish index between the interval [l，r] moved towards the x-axis for length d<br><br>2 l r d : the fish index between the interval [l，r] moved towards the y-axis for length d<br><br>3 l r : query the number of the fish index between the interval [l，r] which are in the net(including the one in the border)<br><br>$1\leq n, m\leq 100000$, $1\leq l\leq r\leq n$. $1\leq d\leq 10^9$, $x1\leq x2$, $y1\leq y2$。 Ensure that any time all involved coordinate values in the range of$[-10^9,10^9]$。</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">In each case:<br><br>For each type 3 events, output a integer which means the answer.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
5
1 1 5 5
1 1
2 2
3 3
4 4
5 5
3
3 1 5
1 2 4 2
3 1 5</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">5
4</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=BestCoder+Round+%2347+%28%24%29&source=1&searchmode=source"> BestCoder Round #47 ($) </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>