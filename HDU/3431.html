<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Papa</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3431. Papa</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">While cleaning your parents' attic, you discovered a box containing many documents describing the relationships among your ancestors. Given these documents, you are interested in answering a number of questions about the relationships implied by the document. Fortunately, all your ancestors have unique names so it is possible to make many inferences without any confusion.<br><br>It is assumed that all relationships (implied or given) satisfy the following:<br><br>    *A person can be either male, female, or have an unknown (undetermined by the data set) sex;<br>    *a person can have at most one spouse (of the opposite sex), and X is Y's wife if and only if Y is X's husband;<br>    *a person can have at most one mother and at most one father that can be inferred from the given data;<br>    *if a person has a mother and father, then the mother and father are married;<br>    *the children of a person's spouse are that person's children as well;<br>    *the spouse of a son (or daughter) is not considered to be a daughter (or son). In other words, &quot;sons&quot; and &quot;daughters&quot; refer to biological sons and daughters.<br><br>The information provided will be consistent, and you may assume there are no hidden relationships that are not explicitly stated or implied by the above rules of consistency.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first part of the input consists of a number of lines describing the known relationships. Each relationship is listed on one line in the form:<br><br>NAME is NAME's RELATIONSHIP.<br><br>where NAME is a lowercase alphabetic word (never 'is'), and RELATIONSHIP is one of<br><br>    *wife<br>    *husband<br>    *daughter<br>    *son<br>    *mother<br>    *father<br><br>This first part is terminated by a blank line. You may assume that there is at least one known relationship given, and there are at most 100 distinct names mentioned in the known relationships.<br><br>This is followed by a list of questions (one per line) of the form:<br>is NAME NAME's RELATIONSHIP?<br>where NAME is as before, but RELATIONSHIP is one of<br><br>    *wife<br>    *husband<br>    *daughter<br>    *son<br>    *mother<br>    *father<br>    *niece: X is a niece of Y if there are W and Z such that X is a daughter of  W, and W and Y are distinct children of Z.<br>    *nephew: X is a nephew of Y if there are W and Z such that X is a son of W, and W and Y are distinct children of Z.<br>    *grandfather: X is a grandfather of Y if there is Z such that X is a father of Z, and Z is the father or mother of Y.<br>    *grandmother: X is a grandmother of Y if there is Z such that X is a mother of Z, and Z is the father or mother of Y.<br>    *grandson: X is a grandson of Y if there is Z such that X is a son of Z, and Z is a child of Y.<br>    *granddaughter: X is a granddaughter of Y if there is Z such that X is a daughter of Z, and Z is a child of Y.<br><br>All names appearing in the questions will be mentioned in the list of known relationships. The list of questions is terminated by the end of file.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each question, print on a line yes or no if the answer of the question can be determined, or unknown if the answer may be yes or no because the sex of the relevant person(s) in the question cannot be determined from the known relationships.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">john is mary's husband.
john is tom's father.
mary is jane's mother.
jane is anna's mother.

is mary john's wife?
is jane mary's daughter?
is tom mary's husband?
is anna jane's daughter?</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">yes
yes
no
unknown</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=Rocky+Mountain+Regional+Contest+2009&source=1&searchmode=source"> Rocky Mountain Regional Contest 2009 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>