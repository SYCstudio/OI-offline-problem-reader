<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Honey Tour</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5851. Honey Tour</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：4000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">A little bear Koma likes honey very much. One day, Koma finds a storehouse full of honey. The storehouse has M entrances and exits, is very complicated like a maze. But Koma understands the structure of the storehouse which it is K downwards repetitions of N*M grid, there are some obstacles and the other grids has a honey pot, M entrances are at the top sides of top grid cells and M exits are at the bottom sides of bottom grid cells.<br><br>Koma decides to tour in the storehouse following rules.<br><br>1.&nbsp;&nbsp;Koma enters the storehouse through one of the entrances.<br>2.&nbsp;&nbsp;Koma can move by one of 4 adjacent directions, cannot go through the obstacles and no grid can be visited more than once.<br>3.&nbsp;&nbsp;Koma can eat a honey pot on his position.<br>4.&nbsp;&nbsp;Koma can go out through one of the exits.<br><br>Koma wants to eat as much honey as possible and he wants to know maximum number of honey pot he can eat when he enters by ith entrance and go out by jth exit and number of that tour.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">First line contains an integer T, number of test cases.<br><br>For each test case, there are 3 integers N, M, K.<br><br>And there are N lines which contains M characters.<br><br>‘.’means a grid cell which has honey pot and ‘X’ means a obstracle.<br><br>1 &lt;= N &lt;= 5<br>2 &lt;= M &lt;= 7<br>2 &lt;= N * M &lt;= 25<br>1 &lt;= K &lt;= 1000000000<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, first line contains a line “Case #x:”, x is the number of the case.<br><br>And then you should output two M * M matrices, first is number of honey pot and second is number of that tour.<br><br>ith line of jth number is for the case such that he enters by ith entrance and go out by jth exit.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
2 2 2
..
.X</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
4 0
5 0
1 0
1 0

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
The store house is actually like this.
SS
..
.X
..
.X
TT
S is entrance and T is exit.

And tour is like this.
SS
|.
|X
|.
|X
TT

SS
|-
|X
|.
|X
TT
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2016+Multi-University+Training+Contest+9&source=1&searchmode=source"> 2016 Multi-University Training Contest 9 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>