<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Classified</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3166. Classified</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：4000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Classification levels like Secret and Top Secret are well-known features of military documents. Less well known are <i>integrity levels</i>, which correspond to how <i>reliable</i> information is.<br><br>In the <b>Dynamic Biba integrity model</b>, every user and every document is assigned an integrity level. If a user writes to a document that has a higher integrity level than the user does, the document’s integrity level goes down. Similarly, if a user reads a document that has a lower integrity level than the user does, the user’s integrity level goes down.<br><br>Your job is to keep track of the integrity levels of a number of users and documents. Complicating the matter is the fact that integrity levels aren’t simply numbers; a document might contain very trusworthy information about operations in Afganistan, while at the same time containing less trustworthy information about operations in Iraq.<br><br>Integrity levels are speficied by arbitrary labels, along with rules of the form <i>A</i> → <i>B</i>, indicating that integrity level <i>A</i> is at most as trustworthy as integrity level <i>B</i>. The rules satisfy a number of conditions:<br><br><li>For any label <i>A</i>, <i>A</i> → <i>A</i> is always true, and need not be specified.</li> <br><li>If <i>A</i> and <i>B</i> are two different labels, then it can never be the case that both <i>A</i> → <i>B</i> and <i>B</i> → <i>A</i> are true. However, it can be the case that neither <i>A</i> → <i>B</i> nor <i>B</i> → <i>A</i> are true. </li><br><li>For any labels <i>A</i>, <i>B</i>, and <i>C</i>, if it is the case that <i>A</i> → <i>B</i> and <i>B</i> → <i>C</i> are both true, you can conclude (without it being explicitly specified) that <i>A</i> → <i>C</i> is true. </li><br><li>For any two labels <i>A</i> and <i>B</i>, there is a label <i>G = glb(A,B)</i> called the greatest lower bound of <i>A</i> and <i>B</i> such that <i>G</i> → <i>A</i> and <i>G</i> → <i>B</i> are both true. Further, for any label <i>L</i> such that <i>L</i> → <i>A</i> and <i>L</i> → <i>B</i> are both true, it is also the case that <i>L</i> → <i>G</i> is true. </li><br>You will be given as input the labels and rules defining the integrity levels, as well as the initial integrity level of a number of users and a number of documents. The format will be as follows:<br><br><li>The first line of the input will contain five integers separated by spaces. These integers are the number of integrity levels <i>l</i>, the number of rules <i>r</i>, the number of users <i>u</i>, the number of documents <i>d</i>, and the number of actions <i>a</i>, in that order. None of these five integers will be greater than 10000. The integrity levels are numbered from 1 to <i>l</i>; the users from 1 to <i>u</i>, and the documents from 1 to <i>d</i>. </li><br><li>The next <i>r</i> lines specify the rules. Each line will consist of two integers between 1 and <i>l</i>, separated by a space. The line “<i>x y</i>” indicates that integrity level <i>x</i> is at most as trustworthy as integrity level <i>y</i> (i.e. <i>x</i> → <i>y</i>)</li> <br><li>The next <i>u</i> lines specify the initial integrity levels for user number 1, 2, …, <i>u</i>. Each line will be an integrity level number, from 1 to <i>l</i>. </li><br><li>The next <i>d</i> lines specify the initial integrity levels for document number 1, 2, …, <i>d</i>. Each line will be an integrity level number, from 1 to <i>l</i>. </li><br><li>The next <i>a</i> lines specify the actions; each action will be of one of the following two forms (here, <i>user</i> is an integer between 1 and <i>u</i>, and document is an integer between 1 and <i>d</i>): </li><ul><li><i>user reads document</i>: The given user is reading the given document. The integrity level for the user should be changed to the <i>glb</i> of the old integrity level for the user and the integrity level of the document. Output the new integrity level for the user on a line by itself. </li><br><li><i>user writes document</i>: The given user is writing to the given document. The integrity level for the document should be changed to the <i>glb</i> of the integrity level for the user and the old integrity level of the document. Output the new integrity level for the document on a line by itself.</li></ul>.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">9 11 2 3 5
6 9
2 6
9 4
7 5
3 8
7 2
5 3
8 4
5 1
6 1
1 8
4
2
5
9
8
1 reads 3
1 writes 2
2 reads 2
1 reads 1
2 writes 1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">8
6
2
5
7</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=University+of+Waterloo+Local+Contest+2008.06&source=1&searchmode=source"> University of Waterloo Local Contest 2008.06 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>