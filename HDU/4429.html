<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Split the Rectangle</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4429. Split the Rectangle</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">          Alice comes up with a new game and wants to play with Bob.<br>There is one rectangle on the paper initially, we define its lower-left corner's coordinate is (x<sub>L</sub>, y<sub>L</sub>) and upper-right corner's coordinate is (x<sub>R</sub>, y<sub>R</sub>).<br>         Bob has executed the step as description below N times:<br>         Bob should select one empty rectangle. If the rectangle is the initial one or is split by one vertical segment, he should split it into two parts by drawing one horizontal segment; otherwise he should split the rectangle into two parts by drawing one vertical segment. An empty rectangle means there is no segment in this rectangle except its only four boundary segments.<br>         You should pay attention that there are only two kinds segments: vertical segment and horizontal segment.<br>         Now Bob has several queries. In each query, Bob selects two target points in the paper. (You can assume that all given target points are always located inside the initial rectangle and not in any drawing segments.) He wants Alice to answer the question as soon as possible: Alice can erase several existing segments, and make two target points in one empty rectangle, and she should answer how many empty rectangles at most would be left at last.<br>          But there are some restrictions: Alice cannot erase segments of the initial rectangle (the (x<sub>L</sub>, y<sub>L</sub>) to (x<sub>R</sub>, y<sub>R</sub>) one), she can only erase segments drew by Bob; if Alice want to erase one segment, both sides of the segment must be empty rectangles, and after erase it, the two empty rectangles must combine to one bigger empty rectangle; if erasing an existing segment will lead to a disconnected graph, the operation is forbidden.<br><center><img style='max-width:100%;' src=./data/images/4429-1.png></center><br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">          There are multiple test cases.<br>          The first line contains four integers x<sub>L</sub>, y<sub>L</sub>, x<sub>R</sub>, y<sub>R</sub> indicating the coordinates of the lower-left corner and the upper-right corner of the initial huge rectangle respectively. (-100,000 &lt;= x<sub>L</sub>, y<sub>L</sub>, x<sub>R</sub>, y<sub>R</sub> &lt;= 100,000, x<sub>L</sub>&lt; x<sub>R</sub>, y<sub>L</sub>&lt; y<sub>R</sub>)<br>          The next line contains two integers N and Q. (1 &lt;= N, Q &lt;= 1000)<br>          The next N lines each line contains four integers x<sub>1</sub>, y<sub>1</sub>, x<sub>2</sub>, y<sub>2</sub> indicating the coordinates of two endpoints of one drawing segments. (-100,000 &lt;= x<sub>1</sub>, y<sub>1</sub>, x<sub>2</sub>, y<sub>2</sub> &lt;= 100,000, x<sub>1</sub>=x<sub>2</sub> | y<sub>1</sub>=y<sub>2</sub>)<br>The next Q lines each line contains four integers x<sub>A</sub>, y<sub>A</sub>, x<sub>B</sub>, y<sub>B</sub> indicating the coordinates of two target points in this query. (-100,000 &lt;= x<sub>A</sub>, y<sub>A</sub>, x<sub>B</sub>, y<sub>B</sub> &lt;= 100,000).<br><br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">           For each test case, output Q lines, output the answer of each query in each line.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">-10 -10 10 10
5 1
-10 0 10 0  
5 -10 5 0
-5 0 -5 10
-5 5 10 5
5 -5 10 -5
0 -3 7 -3
0 0 4 4
3 2
0 2 4 2
2 0 2 2
2 2 2 4
1 1 1 3
1 1 3 1
-10 -10 10 10
3 4
-10 0 10 0
0 -10 0 0
0 0 0 10
-9 -9 -8 -8
-9 -9 -9 9
-9 -9 9 -9
-9 -9 9 9</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">4
1
3
4
1
3
1</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2012+Asia+ChangChun+Regional+Contest&source=1&searchmode=source"> 2012 Asia ChangChun Regional Contest </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>