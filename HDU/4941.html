<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Magical Forest</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4941. Magical Forest</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：24000/12000 MS (Java/Others)</span> <span class="ui label">时间限制：131072/131072 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   There is a forest can be seen as N * M grid. In this forest, there is some magical fruits, These fruits can provide a lot of energy, Each fruit has its location(Xi, Yi) and the energy can be provided Ci. <br><br>   However, the forest will make the following change sometimes: <br>      1. Two rows of forest exchange. <br>      2. Two columns of forest exchange. <br>   Fortunately, two rows(columns) can exchange only if both of them contain fruits or none of them contain fruits. <br><br>   Your superior attach importance to these magical fruit, he needs to know this forest information at any time, and you as his best programmer, you need to write a program in order to ask his answers quick every time. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   The input consists of multiple test cases. <br><br>   The first line has one integer W. Indicates the case number.(1&lt;=W&lt;=5)<br><br>   For each case, the first line has three integers N, M, K. Indicates that the forest can be seen as maps N rows, M columns, there are K fruits on the map.(1&lt;=N, M&lt;=2*10^9, 0&lt;=K&lt;=10^5)<br><br>   The next K lines, each line has three integers X, Y, C, indicates that there is a fruit with C energy in X row, Y column. (0&lt;=X&lt;=N-1, 0&lt;=Y&lt;=M-1, 1&lt;=C&lt;=1000)<br><br>   The next line has one integer T. (0&lt;=T&lt;=10^5)<br>   The next T lines, each line has three integers Q, A, B. <br>   If Q = 1 indicates that this is a map of the row switching operation, the A row and B row exchange. <br>   If Q = 2 indicates that this is a map of the column switching operation, the A column and B column exchange. <br>   If Q = 3 means that it is time to ask your boss for the map, asked about the situation in (A, B). <br>   (Ensure that all given A, B are legal. )</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   For each case, you should output &quot;Case #C:&quot; first, where C indicates the case number and counts from 1.<br><br>   In each case, for every time the boss asked, output an integer X, if asked point have fruit, then the output is the energy of the fruit, otherwise the output is 0. </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
3 3 2
1 1 1
2 2 2
5
3 1 1
1 1 2
2 1 2
3 1 1
3 2 2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
1
2
1

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>No two fruits at the same location.</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014+Multi-University+Training+Contest+7&source=1&searchmode=source"> 2014 Multi-University Training Contest 7 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>