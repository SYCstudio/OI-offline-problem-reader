<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Crossing Rivers</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3232. Crossing Rivers</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">You live in a village but work in another village. You decided to follow the straight path between your house (A) and the working place (B), but there are several rivers you need to cross. Assume B is to the right of A, and all the rivers lie between them.<br><br>Fortunately, there is one &quot;automatic&quot; boat moving smoothly in each river. When you arrive the left bank of a river, just wait for the boat, then go with it. You're so slim that carrying you does not change the speed of any boat.<br><br>Days and days after, you came up with the following question: assume each boat is independently placed at random at time 0, what is the <b>expected</b> time to reach B from A? Your walking speed is always 1.<br><br>To be more precise, for a river of length L, the distance of the boat (which could be regarded as a mathematical point) to the left bank at time 0 is <b>uniformly chosen</b> from interval [0, <i>L</i>], and the boat is equally like to be moving left or right, if it’s not precisely at the river bank.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There will be at most 10 test cases. Each case begins with two integers <i>n</i> and <i>D</i>, where <i>n</i> (0 &lt;= <i>n</i> &lt;= 10) is the number of rivers between A and B, <i>D</i> (1 &lt;= <i>D</i> &lt;= 1000) is the distance from A to B. Each of the following <i>n</i> lines describes a river with 3 integers: <i>p, L</i> and <i>v</i> (0 &lt;= <i>p</i> &lt; <i>D</i>, 0 &lt; <i>L</i> &lt;= <i>D</i>, 1 &lt;= <i>v</i> &lt;= 100). <i>p</i> is the distance from A to the left bank of this river, <i>L</i> is the length of this river, <i>v</i> is the speed of the boat on this river. It is guaranteed that rivers lie between A and B, and they don’t overlap. The last test case is followed by <i>n=D=0</i>, which should not be processed.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, print the case number and the expected time, rounded to 3 digits after the decimal point.<br><br>Print a blank line after the output of each test case.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1 1
0 1 2
0 1
0 0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case 1: 1.000

Case 2: 1.000</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2009+Asia+Wuhan+Regional+Contest+Hosted+by+Wuhan+University&source=1&searchmode=source"> 2009 Asia Wuhan Regional Contest Hosted by Wuhan University </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>