<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Baby Ming and Matrix tree</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5614. Baby Ming and Matrix tree</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：10000/5000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Give a $2*2$ 01-matrix A, which can deal with the following $2$ kinds of transformation:<br><br>**Rotation transformation**: clockwise rotation. Move $A(i, j)$ to $A(j,1- i)$<br><br>**Replace**: replace the matrix $A$ into matrix $B$.<br><br>Given a tree, there is a matrix $A_i$ in every node of the tree, Baby Ming likes to play the matrix in the tree. Every time, Baby Ming choose two node $a, b$ in the tree and change all the matrixes in the path from $a$ to $b$ into matrix $B$ by the above two kinds of transformation.<br><br>Suppose rotation transformation takes $2$ seconds every time while replace takes $10$. Baby Ming wants to know the minimum time it costs.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">In the first line contains a single positive integer $T$, indicating number of test case.<br><br>For every test case:<br><br>In the first line there is a number $n$ to show the tree has $n$ nodes.<br><br>In the next $n-1$ lines, each line contains $2$ integer $a, b$, indicate the edge between $a$ and $b$.<br><br>In the next $n*2$ lines, each line contains $2$ numbers $01$, indicate the matrix $A_i$ in the node $i$.<br><br>Input a positive integer $q$, indicate the number of queries.<br><br>For each query:<br><br>In the first line there is two positive numbers $a, b$.<br><br>In the second line and third line there is a $2*2$ 01-matrix B, It represents select two nodes $a, b$, transform all the matrix $A_i$ in the path from $a$ to $b$ into matrix $B$<br><br>**(matrix $A_i, B$ consist by $2$ zeros and $2$ ones)**<br><br>$1 \leq T \leq 30, 1 &lt; n \leq 20000, 1 \leq q \leq 20000, 1 \leq a, b \leq n$ <br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each of $Q$ operation, print one line to show minimum time the change needed.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
5
3 4
1 2
2 5
1 4
0 0
1 1
0 1
1 0
1 1
0 0
0 1
0 1
1 0
0 1
3
1 5
0 1
1 0
2 3
0 1
0 1
1 2
0 0
1 1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">12
22
4</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=BestCoder+Round+%2369+%28div.1%29&source=1&searchmode=source"> BestCoder Round #69 (div.1) </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>