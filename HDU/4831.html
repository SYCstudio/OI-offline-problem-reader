<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Scenic Popularity</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4831. Scenic Popularity</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">　　临近节日，度度熊们最近计划到室外游玩公园，公园内部包括了很多的旅游景点区和休息区，由于旅游景点很热门，导致景点区和休息区都聚集了很多人。所以度度熊在旅游之前想通过百度地图查看一下公园内各个地方的热门程度。<br>　　假设所有景点区和休息区都是X轴直线上的一系列顶点，所对应的坐标X<sub>i</sub> 保证唯一。每个景点区有个初始的热度值，而一个休息区(坐标为X<sub>i</sub>)的热度值等于离它距离最近的景点区X<sub>j</sub>的热度值（距离定义为|X<sub>i</sub>-X<sub>j</sub>|），如果此休息区与两个景点区的距离一样，则休息区的热度值选择两个景点区中的热度值最大值，如果两个热度值都一样，则随意选择其中一个。<br>　　度度熊在出门之前会经常去查看百度地图，每次查看前会有某些景点区的热度值已发生改变，从而也会导致周围的休息区的热度值发生改变，然后度度熊想知道当前热度值&lt;=R<sub>k</sub>的顶点(包括景点区和休息区)有多少个</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">　　输入数据的第一行是测试Case的个数(T&lt;=100）。<br>　　每个Case的第一行是N(0&lt;N&lt;=10000)，表示景点区和休息区的总数。<br>　　接着会有N行数据，每一列首先是顶点的X坐标Xi (0&lt; X<sub>i</sub> &lt;=1e8)，第二列是一个整数H<sub>i</sub>(0=&lt;H<sub>i</sub> &lt;=100000)，如果H<sub>i</sub> 不为0，则表示当前顶点为风景区且初始的热度值为H<sub>i</sub>，否则表示当前顶点为休息区。这N行数据会按照坐标Xi递增的方式依次给出。<br>　　接着的一行数据是操作的次数K(K&lt;=100)，最后会有K行数据，每一行的第一列要么是’U’或者’Q’，’U’表示当前操作为更改热度操作，’Q’表示当前操作为查询操作。如果是更改操作，接着会有两列数据，分别是热度值要改变的风景区的下标L<sub>k</sub>(0&lt;=L<sub>k</sub>&lt;N)以及改变后的热度值V<sub>k</sub>(0&lt; V<sub>k</sub>&lt;=100000)；如果是查询操作，第二列是要查询的热度范围R<sub>k</sub>(0&lt; R<sub>k</sub>&lt;=100000)</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">　　对于第k组测试数据，第一行输出Case #k:，接下来对每次查询操作(即Q操作)会输出一个整数，表示满足条件的顶点数有多少个</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1                                 
4                                 
10 0
20 3
30 0 
40 2
3
Q 3 
U 3 4 
Q 3</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
4
2</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014%C4%EA%B0%D9%B6%C8%D6%AE%D0%C7%B3%CC%D0%F2%C9%E8%BC%C6%B4%F3%C8%FC+-+%B3%F5%C8%FC%A3%A8%B5%DA%B6%FE%C2%D6%A3%A9&source=1&searchmode=source"> 2014年百度之星程序设计大赛 - 初赛（第二轮） </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>