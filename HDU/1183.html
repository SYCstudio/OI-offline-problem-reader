<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Not magic,but logic.</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU1183. Not magic,but logic.</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：131072/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">He(Harry) pulled open the next door, both of them hardly daring to look at what came next - but there was nothing very frightening in here, just a table with seven differently shaped bottles standing on it in a line. <br>'Snape's,' said Harry. 'What do we have to do?' <br>They stepped over the threshold and immediately a fire sprang up beind them in the doorway. It wasn't ordinary fire either; it was purple. At the same instant, black flames shot up in the doorway leading onwards.They were trapped. <br>'Look!' Hermione seized a roll of paper lying next to the bottles. Harry looked over her shoulder to read it: <br><br><br>  Danger lies before you, while safety lies behind,<br><br>  Two of us will help you, whichever you would find,<br><br>  One among us seven will let you move ahead,<br><br>  Another will transport the drinker back instead,<br><br>  Some among our number hold only nettle wine,<br><br>  And others are killers, waiting hidden in line.<br><br>  Choose, unless you wish to stay here for evermore,<br><br>  To help you in your choice, we give you these clues:<br> <br><br><br>Now,they must make a choice, could you help them? <br>However, we call the bottle who can take you ahead A,and the bottle who can take you back is named B.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of the input is three integer N,M,P. It means there is N bottles of wine, M bottles of poison and P clues.(0&lt;=N,M&lt;=100,0&lt;P&lt;=1000) <br>Next P line would be one of these four: <br><br>No. i from left/right is safe/dangrous . <br>All wine/poison have a wine/poison on the left/right . <br>The A/B have a wine/poison/A/B on the left and a wine/poison/A/B on the right . <br>No. i from left/right cannot take you back/ahead .<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Output will have only one line: <br>If you are sure where A and B is, just tell Harry their number from left. <br>If you aren't sure, you only can say: 'God help them.' <br>If you find that's impossible, just say: 'That's impossible.'<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2 4 6 
All wine have a poison on the left . 
The B have a poison on the left and a poison on the right . 
The A have a wine on the left and a poison on the right . 
No. 4 from right is safe . 
No. 4 from left is safe . 
No. 2 from right cannot take you back .</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">5 2

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>Both PBPWAPPW and PBPWAPWP are possible solutions,where 'P' means poison and 'W' means wine.But however,we know where A and B are.
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=Gardon-DYGG+Contest+1&source=1&searchmode=source"> Gardon-DYGG Contest 1 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>