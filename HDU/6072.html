<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Logical Chain</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU6072. Logical Chain</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：10000/5000 MS (Java/Others)</span> <span class="ui label">时间限制：524288/524288 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Every time you come across a problem you've never seen before, haven't you thought of something that is familiar to you? If so, you might think of something else, then more and more things will come to your mind. This is what is called ''Logical Chain''. Lu Xun's work also described such interesting phenomenon.<br><br><center><br><img style='max-width:100%;' src=./data/images/C762-1006-1.jpg><br></center> <br><br>Assume there are $n$ things, labeled by $1,2,...,n$. Little Q's mind can be expressed by a $n\times n$ matrix $g$. If he can think of $j$ when he comes across $i$, then $g_{i,j}$ is $1$, otherwise it's $0$. For two different things $u$ and $v$, if $u$ can lead to $v$ directly or indirectly and $v$ can also lead to $u$ directly or indirectly, then the pair $(u,v)$ is called a ''Looping Pair''.<br><br>Little Q's mind changes all the time. On $i$-th day, there are $k_i$ positions $(u,v)$ in matrix $g$ flipped($0$ to $1$ and $1$ to $0$). Please write a program to figure out the number of ''Looping Pairs'' after each day's all changes.<br><br>Note : $(u,v)$ and $(v,u)$ should not be counted twice.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of the input contains an integer $T(1\leq T\leq15)$, denoting the number of test cases.<br><br>In each test case, there are $2$ integers $n,m(1\leq n\leq 250,1\leq m\leq 25000)$ in the first line, denoting the number of things and days.\par<br>For the next $n$ lines, each line contains $n$ integers $g_{i,1},g_{i,2},...,g_{i,n}(0\leq g_{i,j}\leq 1,g_{i,i}=0)$, denoting the matrix $g$.<br><br>For the next $m$ parts, there is an integer $k_i(1\leq k_i\leq 10)$ in the first line, denoting the number of changes happened on that day.<br><br>For the next $k_i$ lines, each line contains $2$ integers $u,v(1\leq u,v\leq n,u\neq v)$, denoting a changed position in $g$.<br><br>It is guaranteed that each position will be changed at most once per day.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each day, print a single line containing an integer, denoting the number of ''Looping Pairs'' after that day's all changes.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
4 2
0010
1000
0000
0000
3
1 4
3 2
1 2
2
4 3
2 3</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">3
6</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2017+Multi-University+Training+Contest+-+Team+4&source=1&searchmode=source"> 2017 Multi-University Training Contest - Team 4 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>