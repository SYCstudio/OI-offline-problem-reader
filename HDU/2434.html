<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Let's play UNO</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU2434. Let's play UNO</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：5000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Uno is a famous card game played with a specially printed deck. It's very<br>popular as a funny game in a party. <br>A so-called &quot;official rules&quot; is presented at the Wikipedia, but there are a lot of different extended rules all over the <br>world according to their specific needs. <br><br><img style='max-width:100%;' src=./data/images/C143-1007-1.jpg><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In this problem, you are required to obey our rules introduced below:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Uno deck consists of cards of 4 colors: red(R), green(G), blue(B), and yellow(Y). <br>Each color has two kinds of cards, number cards and action cards. <br>The ranks in number cards are 0-9. There are 3 &quot;action&quot; cards in each color, labeled &quot;skip&quot;(S), &quot;draw two&quot;(D), and &quot;reverse&quot;(R). <br>The functions of the actions will be described afterwards. <br>For each color, there are two copies of each positive number card and action card, but only one zero card, producing 25 cards in total.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Besides, there are also special black action cards called &quot;wild cards&quot;, &quot;wild&quot;(WC) and &quot;wild draw four&quot;(WF). <br>There are four &quot;wild&quot; and &quot;wild draw four&quot; cards each. Hence, there are 108 cards in total.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In this problem, a card is marked with an ID of two characters length, the first is the color (R, G, B, Y, W) while the second is the rank (0-9, S, D, R, C, F). <br>For example, the ID of red 2 is R2, the yellow reverse is YR, the wild cards are WC and WF.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Supposed there are n players numbered from 1 to n clockwise. <br>Before playing, players take turns(in the order of 1, 2, ... n) to pick seven successive cards from the stock. <br>The top card of the remaining stock is exposed to start the game, treated as if player 1 dropped that card. <br>The exposed card will never be WC or WF in this problem. <br>Then the game begins clockwise (next player is 2), or counter-clockwise (next player is n) if the top exposed card is a reverse. <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;At each turn, a player may drop a card from their hand that matches the color or rank of the top exposed card (e.g., if the top card is R3, you can drop R5 or G3; <br>if the top card is RD, you can drop R3 or GD) or play a WC. <br>What's more, if the player has a WF and no other legal cards to drop, he can drop the WF. <br>Then the card dropped just now becomes the top exposed card.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If a player has no legal cards, he must draw the top card of the stock and place it in his hand. <br>After dropping a single card or drawing, the next player clockwise takes a turn, or counter-clockwise when the reverse is in effect.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When a player drops down to only one card, that player is required to say &quot;uno&quot; to warn other players. <br>The game ends when a player drops all his/her cards, or the stock is emptied but the current player has to draw a card. <br>If the last card is an action card, the special effect still occurs.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When the game ends, all players count the number of points pertaining to the values of the cards in their hands. <br>Number cards worth the face value on them, colored special cards worth twenty, and wilds worth fifty, e.g., R2 worth 2, G0 worth 0, BD and YS worth 20, WC and WF worth 50.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The descriptions of the action cards:<br><br> <img style='max-width:100%;' src=./data/images/C143-1007-2.jpg><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now here comes the problem. <br>There are N people playing Uno under the rules mentioned above. Given the sequence of the 108 cards of the stock, you are asked to simulate a Uno game. <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;At each turn, the player will always drop a card if permitted. <br>If there are more than one choices, the player will drop the card with the largest point. <br>If still a tie, he will choose the one whose ID is the smallest alphabetical order.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When a player drops WC or WF, he has to name a color. <br>The first time he will name red, the second time he will name green, the third time blue, the fourth time yellow, the fifth time red again, and so on.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When the game ends, you should output the final score of each player, and we also want to know how many times each player calls &quot;Uno&quot;. <br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of the input file contains a single number: the number of test <br>cases to follow. Each test case has two lines:<br>The first line contains the number of players N , with 2&lt;=N&lt;=10.<br>The second line contains 108 IDs of the Uno cards, separated by one space. <br>Each ID is two characters long as introduced in the description above.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output two lines:<br>The first line are N integers, the ith integer is the final score of player i.<br>The second lines are also N integers, the ith integer shows how many times<br>player i calls &quot;Uno&quot;.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
2
R9 RD RD RS RS RR RR 
B0 B1 B1 B2 B2 B3 B3 
G0 GD GD GS GS GR GR G9 G9 G8 G8 G7 G7 G6 G6 G5 G5 G4 G4 G3 G3 G2 G2 G1 G1 
Y0 Y9 Y9 Y8 Y8 Y7 Y7 Y6 Y6 Y5 Y5 Y4 Y4 Y3 Y3 Y2 Y2 Y1 Y1 YD YD YS YS YR YR 
R9 R8 R8 R7 R7 R6 R6 R5 R5 R4 R4 R3 R3 R2 R2 R1 R1 R0 
B4 B4 B5 B5 B6 B6 B7 B7 B8 B8 B9 B9 BD BD BS BS BR BR 
WC WC WC WC WF WF WF WF</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">249 0
0 1
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
The process of this game is:
G0(exposed) 
-> B0(Player 2)-> Draw GD(Player 1)-> B3(Player 2) 
->Draw GD(Player 1)-> B3(Player 2) -> Draw GS(Player 1)
-> B2(Player 2)-> Draw GS(Player 1)-> B2(Player 2)
-> Draw GR(Player 1)-> B1, call “Uno”(Player 2)-> Draw GR(Player 1) 
-> B1(Player 2), end.
Score of player 1: 20*12(6 red action cards and 6 green action cards)+9(R9)

</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2008+Asia+Chengdu+Regional+Contest+Online&source=1&searchmode=source"> 2008 Asia Chengdu Regional Contest Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>