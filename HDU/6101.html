<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Gumballs&Dungeons</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU6101. Gumballs&Dungeons</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Warriors Gumball goes to a maze which has N * M cells.<br>There are seven monsters in this maze, numbered from 0 to 6. Each monster has HP and ATK.<br><br>There are 4 types of buff in the maze：<br>1. ATK buff : increase Ab attack point (ATK)<br>2. DEF buff : increase Db defense point (DEF)<br>3. HP buff : increase Hb health point (HP)<br>4. MP buff : increase Mb magic point (MP)<br><br>Warriors Gumball is a great Gumball. At first he has As ATK, Ds DEF, Hs HP and Ms MP. And he can use 3 types of magic:<br>1. Drainage of magic : increase Hm HP<br>2. Light spells : increase Am ATK<br>3. Earth magic : increase Dm DEF<br>Each magic which Warriors used will consume Mm MP.<br><br>The meaning of the symbols in the maze:<br>'S' : initial position of Warriors Gumball, ‘S’ only appear once.<br>'#' : obstacle, can't move to this cell<br>'.' : empty, can move to this cell<br>'A' : ATK buff<br>'D' : DEF buff<br>'H' : HP buff<br>'M' : MP buff<br>'0' - '6' : denotes monster. This cell can be moved in only if this monster is killed.Each number only appear once.<br><br>Each step Warriors Gumball can move in four directions(up, down, left, right).<br><br>If Warriors Gumball want to kill a monster, he will attack monster.<br>In every attack, If Warriors Gumball's DEF not less than monster’s ATK, He will not get hurt. Otherwise Warriors Gumball's HP will reduce the value equivalent to the difference between monster's ATK and Warriors Gumball's DEF. monster's HP will reduce the value equivalent to Gumball's ATK. Warriors Gumball’s HP and monster’s HP will reduce at the same time.<br>If the monster's HP reduced to less than or equal to 0, the monster will die.<br>But if Warriors Gumball's HP reduced to less than or equal to 0, he will die and game over.<br><br>He wants to know the maximum HP can be remained when he kill all monsters(When all the monsters are killed, you can still explore the maze). Can you help him?</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line is an integer T which indicates the case number.<br>And as for each case, first line is two integer N and M which indicates the size of maze.<br>Next N line, each line M character which indicates the maze.<br>Next seven line, each line is two integer A and H, which indicates the monsters ATK and HP<br>Next line is four integer As, Ds, Hs, Ms which indicates Warriors Gumball initial state<br>Next line is four integer Am, Dm, Hm, Mm which indicates information of magic<br>Next line is four integer Ab, Db, Hb, Mb which indicates information of buff<br><br>Limit<br>$1 \leq T \leq 20$<br>$1 \leq N, M \leq 100$<br>$1 \leq Ai, Hi \leq 20$<br>$1 \leq As, Ds, Hs, Ms \leq 100000$<br>$1 \leq Am, Dm, Hm, Mm \leq 100000$<br>$1 \leq Ab, Db, Hb, Mb \leq 100000$<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">As for each case, you need to output one integer which indicate the answer.<br>If Warriors Gumball can’t achieve goal, output -1.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
4 4
S012
###M
###4
H365
2 2
2 2
18 2
2 2
2 2
2 2
2 2
1 1 20 1
1 1 1 1
1 1 10 1
4 4
S012
###M
###4
H365
2 2
2 2
2 2
19 2
2 2
2 2
2 2
1 1 20 1
1 1 1 1
1 1 10 1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">11
13</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2017+Multi-University+Training+Contest+-+Team+6&source=1&searchmode=source"> 2017 Multi-University Training Contest - Team 6 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>