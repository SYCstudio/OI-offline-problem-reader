<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Lambda Calculus</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5987. Lambda Calculus</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The <b>lambda calculus</b> is a simple language that is often used to study the theory of programming languages. This language only consists of variable references, functions that take a single argument, and applications of functions.<br>The lambda calculus consists of a language of <b>lambda terms</b>. The syntax of the lambda calculus defines that all valid lambda terms can be built by applying the following three rules:<br>1. a <b>variable</b> x, which is a nonempty string other than lambda, is itself a lambda term;<br>2. if t is a valid lambda term, and x is a variable, then (lambda (x) t) is a lambda term (called a <b>lambda abstraction</b>), here x has at least one occurrence in t;<br>3. if t and s are lambda terms, then (t s) is a lambda term (called an <b>application</b>).<br>Nothing else is a lambda term. Thus a lambda term is valid if and only if it can be obtained by repeated application of these three rules. Note that the parentheses in the second and the third rule can NOT be omitted.<br>A <b>lambda abstraction</b> (lambda (x) t) is a definition of an anonymous function that is capable of taking a single input x and substituting it into the term t. The abstraction <b>binds</b> the variable x in term t, so we call it a <b>lambda binding</b> of variable x.<br>An <b>application</b> (t s) represents the application of a function t to an input s, that is, it represents the act of calling<br>function t on input s to produce t(s).<br>To see how this works, consider the lambda calculus extended with arithmetic operators. In that language, a lambda abstraction (lambda (x) x + 5), in which x is bound, defines a function f(x) = x + 5. And an application ((lambda (x) x + 5) 3) applies function f(x) = x + 5 to input 3 and produces f(3) = 3 + 5 = 8.<br>We say that a variable <b>occurs free</b> in an lambda term t if it has some occurrence in t that is not inside some lambda binding of the same variable. For example,<br>     $\bullet$ x occurs free in x;<br>     $\bullet$ x does not occur free in y;<br>     $\bullet$ x does not occur free in (lambda (x) (x y));<br>     $\bullet$ x occurs free in (lambda (y) (x y));<br>     $\bullet$ x occurs free in ((lambda (x) x) (x y)), which is an application that produces (x y) in which x occurs free;<br>     $\bullet$ x occurs free in (lambda (y) (lambda (z) (x (y z)))).<br>Now you are given a lambda term t, you need to find all distinct variables that occur free in t.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of the input contains a positive integer T denoting the number of test cases. Then T lines follow, each line contains a nonempty string denoting a lambda term.<br>Each variable in the the lambda terms contains only latin letters and the hyphen, and is no longer than 20 characters.<br>It is guaranteed that all lambda terms in the input are valid, and the total length of all lambda terms will not exceed 107 .<br>There might be some extra spaces in the input as long as they do not cause any misunderstanding.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output first the case number and then all distinct variables that occur free in the lambda term in a single line. These variables should be printed in lexicographic order, and there should be a single space between<br>each two adjacent variables. There should be a space after the colon in each test case.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">6
x
y
(lambda (x) (x y))
(lambda (y) (x y))
( (lambda (x) x) (x y) )
( lambda (y) ( lambda (z) (x (y z)) ) )</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: x
Case #2: y
Case #3: y
Case #4: x
Case #5: x y
Case #6: x
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
The free variables of a term are those variables not bound by a lambda abstraction. The set of free variables of
an expression is defined inductively:
1. The free variables of x are just x;
2. The set of free variables of (lambda (x) t) is the set of free variables of t, but with x removed;
3. The set of free variables of (t s) is the union
We can define it with the context-free grammar:
                                                      LcExp ::= Variable
                                                                  ::= (lambda (Variable) LcExp)
                                                                  ::= (LcExp LcExp)
where a variable is any string other than lambda.
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2016ACM%2FICPC%D1%C7%D6%DE%C7%F8%C7%E0%B5%BA%D5%BE-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%D6%D0%B9%FA%CA%AF%D3%CD%B4%F3%D1%A7%A3%A9&source=1&searchmode=source"> 2016ACM/ICPC亚洲区青岛站-重现赛（感谢中国石油大学） </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>