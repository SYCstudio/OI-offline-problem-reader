<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Snacks</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5692. Snacks</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：10000/5000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">百度科技园内有$n$个零食机，零食机之间通过$n-1$条路相互连通。每个零食机都有一个值$v$，表示为小度熊提供零食的价值。<br><br>由于零食被频繁的消耗和补充，零食机的价值$v$会时常发生变化。小度熊只能从编号为0的零食机出发，并且每个零食机至多经过一次。另外，小度熊会对某个零食机的零食有所偏爱，要求路线上必须有那个零食机。<br><br>为小度熊规划一个路线，使得路线上的价值总和最大。<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">输入数据第一行是一个整数$T(T\leq 10)$，表示有$T$组测试数据。<br><br>对于每组数据，包含两个整数$n,m(1\leq n,m\leq 100000)$，表示有$n$个零食机，$m$次操作。<br><br>接下来$n-1$行，每行两个整数$x$和$y(0\leq x,y &lt; n)$，表示编号为$x$的零食机与编号为$y$的零食机相连。<br><br>接下来一行由$n$个数组成，表示从编号为0到编号为$n-1$的零食机的初始价值$v(|v| &lt; 100000)$。<br><br>接下来$m$行，有两种操作：$0\ x\ y$，表示编号为$x$的零食机的价值变为$y$；$1\ x$，表示询问从编号为0的零食机出发，必须经过编号为$x$零食机的路线中，价值总和的最大值。<br><br>本题可能栈溢出，辛苦同学们提交语言选择c++，并在代码的第一行加上：<br><br>`#pragma comment(linker, &quot;/STACK:1024000000,1024000000&quot;) `</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">对于每组数据，首先输出一行”Case #?:”，在问号处应填入当前数据的组数，组数从1开始计算。<br><br>对于每次询问，输出从编号为0的零食机出发，必须经过编号为$x$零食机的路线中，价值总和的最大值。<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
6 5
0 1
1 2
0 3
3 4
5 3
7 -5 100 20 -5 -7
1 1
1 3
0 2 -1
1 1
1 5</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
102
27
2
20</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2016%26quot%3B%B0%D9%B6%C8%D6%AE%D0%C7%26quot%3B+-+%B3%F5%C8%FC%A3%A8Astar+Round2A%A3%A9&source=1&searchmode=source"> 2016&quot;百度之星&quot; - 初赛（Astar Round2A） </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>