<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Analyzing Login/Logout Records</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU2310. Analyzing Login/Logout Records</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：6000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">You have a computer literacy course in your university. In the computer system, the login/logout records of all PCs in a day are stored in a file. Although students may use two or more PCs at a time, no one can log in to a PC which has been logged in by someone who has not logged out of that PC yet.<br><br>You are asked to write a program that calculates the total time of a student that he/she used at least one PC in a given time period (probably in a laboratory class) based on the records in the file.<br><br>The following are example login/logout records.<br><br>    * The student 1 logged in to the PC 1 at 12:55<br>    * The student 2 logged in to the PC 4 at 13:00<br>    * The student 1 logged in to the PC 2 at 13:10<br>    * The student 1 logged out of the PC 2 at 13:20<br>    * The student 1 logged in to the PC 3 at 13:30<br>    * The student 1 logged out of the PC 1 at 13:40<br>    * The student 1 logged out of the PC 3 at 13:45<br>    * The student 1 logged in to the PC 1 at 14:20<br>    * The student 2 logged out of the PC 4 at 14:30<br>    * The student 1 logged out of the PC 1 at 14:40 <br><br>For a query such as &quot;Give usage of the student 1 between 13:00 and 14:30&quot;, your program should answer &quot;55 minutes&quot;, that is, the sum of 45 minutes from 13:00 to 13:45 and 10 minutes from 14:20 to 14:30, as depicted in the following figure.<br><img style='max-width:100%;' src=./data/images/2310-1.png></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input is a sequence of a number of datasets. The end of the input is indicated by a line containing two zeros separated by a space. The number of datasets never exceeds 10.<br><br>Each dataset is formatted as follows.<br><br>    N M <br>    r <br>    record1<br>    ...<br>    recordr <br>    q <br>    query1<br>    ...<br>    queryq <br>    　<br><br>　<br><br>The numbers N  and M  in the first line are the numbers of PCs and the students, respectively. r  is the number of records. q  is the number of queries. These four are integers satisfying the following.<br><br>    1 ≤ N  ≤ 1000, 1 ≤ M  ≤ 10000, 2 ≤ r  ≤ 1000, 1 ≤ q  ≤ 50 <br><br>　<br><br>Each record consists of four integers, delimited by a space, as follows.<br><br>    t  n  m  s  <br><br>s  is 0 or 1. If s  is 1, this line means that the student m  logged in to the PC n  at time t . If s  is 0, it means that the student m  logged out of the PC n  at time t . The time is expressed as elapsed minutes from 0:00 of the day. t , n  and m  satisfy the following.<br><br>    540 ≤ t  ≤ 1260, 1 ≤ n  ≤ N , 1 ≤ m  ≤ M  <br><br>You may assume the following about the records.<br># Records are stored in ascending order of time t. <br># No two records for the same PC has the same time t. <br># No PCs are being logged in before the time of the first record nor after that of the last record in the file.<br># Login and logout records for one PC appear alternatingly, and each of the login-logout record pairs is for the same student. 　<br><br>　<br><br>Each query consists of three integers delimited by a space, as follows.<br><br>    ts  te  m  <br><br>It represents &quot;Usage of the student m  between ts  and te &quot;. ts , te  and m  satisfy the following.<br><br>    540 ≤ ts  &lt; te  ≤ 1260, 1 ≤ m  ≤ M  <br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each query, print a line having a decimal integer indicating the time of usage in minutes. Output lines should not have any character other than this number.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">4 2
10
775 1 1 1
780 4 2 1
790 2 1 1
800 2 1 0
810 3 1 1
820 1 1 0
825 3 1 0
860 1 1 1
870 4 2 0
880 1 1 0
1
780 870 1
13 15
12
540 12 13 1
600 12 13 0
650 13 15 1
660 12 15 1
665 11 13 1
670 13 15 0
675 11 13 0
680 12 15 0
1000 11 14 1
1060 12 14 1
1060 11 14 0
1080 12 14 0
3
540 700 13
600 1000 15
1000 1200 11
1 1
2
600 1 1 1
700 1 1 0
5
540 600 1
550 650 1
610 620 1
650 750 1
700 800 1
0 0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">55
70
30
0
0
50
10
50
0</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=Japan+2007+Domestic&source=1&searchmode=source"> Japan 2007 Domestic </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>