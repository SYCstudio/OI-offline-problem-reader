<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Little Pony and Boast Busters</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4988. Little Pony and Boast Busters</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：20000/10000 MS (Java/Others)</span> <span class="ui label">时间限制：131072/131072 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">&quot;I hereby challenge you, Ponyvillians: anything you can do, I can do better. Any takers? Anyone? Or is Trixie destined to be the greatest equine who has ever lived!?!&quot; — &quot;Boast Busters&quot;<br><br>Given two permutation P<sub>0</sub> &amp;&amp; P<sub>1</sub> of {0, 1, ..., n - 1}, we define the crossing number of it as follows. Write P<sub>0</sub> from left to right above P<sub>1</sub> and draw a straight line between each same elements. The crossing number of P<sub>0</sub> and P<sub>1</sub> is the number of pairs of lines that cross.<br><br>For example, if n = 5, and P<sub>0</sub> = {0, 1, 2, 3, 4}, and P<sub>1</sub> = {1, 3, 0, 2, 4}, then the crossing number of P<sub>0</sub> and P<sub>1</sub> is 3, as shown in the figure below.<br><br><center><img style='max-width:100%;' src=./data/images/C531-1004-1.png></center><br>Now given you the two permutation, you need to implement the following operations:<br><br>SWAP p a b: swap P<sub>p</sub>[a] and P<sub>p</sub>[b] (0&lt;=p&lt;=1, 0&lt;=a, b&lt;=n-1).<br><br>QUERY: ask the crossing number of the current P<sub>0</sub> and P<sub>1</sub>.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Input contains multiple test cases (less than 10). For each test case, the first line contains one integer n (1&lt;=n&lt;=10^5).<br>The second line contains n integers P<sub>0</sub>[0], P<sub>0</sub>[1], ..., P<sub>0</sub>[n-1].<br>The third line contains n integers P<sub>1</sub>[0], P<sub>1</sub>[1], ..., P<sub>1</sub>[n-1].<br>The next line contains one integer q —— the number of operations (1&lt;=q&lt;=10^5). The next q line, each line will contains a operation as we mentioned above.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each query, output the corresponding result in one line.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">5
0 1 2 3 4
1 3 0 2 4
5
QUERY
SWAP 1 2 4
QUERY
SWAP 0 2 4
QUERY</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">3
6
5</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=BestCoder+Round+%237&source=1&searchmode=source"> BestCoder Round #7 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>