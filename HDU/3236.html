<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Gift Hunting</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3236. Gift Hunting</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：6000/3000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">After winning two coupons for the largest shopping mart in your city, you can't wait inviting your girlfriend for gift hunting. Having inspected hundreds of kinds of souvenirs, toys and cosmetics, you finally narrowed down the candidate list to only <i>n</i> gifts, numbered 1 to <i>n</i>. Each gift has a happiness value that measures how happy your girlfriend would be, if you get this gift for her. Some of them are special - you <b>must</b> get it for your girlfriend (note that whether a gift is special has nothing to do with its happiness value).<br><br>Coupon 1 can be used to buy gifts with total price not greater than <i>V</i>1 (RMB). Like most other coupons, you <b>can’t</b> get any money back if the total price is strictly smaller than <i>V</i>1. Coupon 2 is almost the same, except that it’s worth <i>V</i>2. Coupons should be used separately. That means you cannot combine them into a super-coupon that’s worth <i>V</i>1+<i>V</i>2. You have to divide the gifts you choose into two part, one uses coupon 1, the other uses coupon 2.<br><br>It is your girlfriend's birthday today. According to the rules of the mart, she can take one (only one) gift for FREE! Here comes your challenge: how to make your girlfriend as happy as possible?</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There will be at most 20 test cases. Each case begins with 3 integers <i>V</i>1, <i>V</i>2 and <i>n</i> (1 &lt;= <i>V</i>1 &lt;= 500, 1 &lt;= <i>V</i>2 &lt;= 50, 1 &lt;= <i>n</i> &lt;= 300), the values of coupon 1 and coupon 2 respectively, and the number of candidate gifts. Each of the following <i>n</i> lines describes a gift with 3 integers: <i>P</i>, <i>H</i> and <i>S</i>, where <i>P</i> is the price, <i>H</i> is the happiness (1 &lt;= <i>P,H</i> &lt;= 1000), <i>S</i>=1 if and only if this is a special gift - you must buy it (or get it for free). Otherwise <i>S</i>=0. The last test case is followed by <i>V</i>1 = <i>V</i>2 = <i>n</i> = 0, which should not be processed.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, print the case number and the maximal total happiness of your girlfriend. If you can't finish the task, i.e. you are not able to buy all special gifts even with the 1-FREE bonus, the happiness is -1 (negative happiness means she's unhappy). Print a blank line after the output of each test case.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">3 2 4
3 10 1
2 10 0
5 100 0
5 80 0
3 2 4
3 10 1
2 10 0
5 100 0
5 80 1
0 0 0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case 1: 120

Case 2: 100</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2009+Asia+Wuhan+Regional+Contest+Hosted+by+Wuhan+University&source=1&searchmode=source"> 2009 Asia Wuhan Regional Contest Hosted by Wuhan University </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>