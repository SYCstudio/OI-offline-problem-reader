<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Hyperspace</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU2810. Hyperspace</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：3000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Hyperspace ,A Euclidean space of dimension greater than three (the original meaning of the word hyperspace, common in late nineteenth century British books, sometimes used in paranormal context, but which has become rarer since then). Minkowski space, a concept, often referred to by science fiction writers as hyperspace that refers to the four-dimensional space-time of special relativity.<br><img style='max-width:100%;' src=./data/images/C190-1002-1.jpg> <img style='max-width:100%;' src=./data/images/C190-1002-2.jpg> <br>Here we define a “Hyperspace” as a set of points in three-dimensional space. We define a function to describe its “Hyperspace Value”<br><img style='max-width:100%;' src=./data/images/C190-1002-3.jpg> <br>Every vi (0&lt;=i&lt;=k) could be describe in three-dimensional reference system, say v0 (1, 2, 3)<br>For the following question, we will have to deal with the “Hyperspaces”, you may assume that the number of “Hyperspace” is always no larger than 100.<br>As we say above, we give every “Hyperspace” an “ID” to identify it.<br>If you want to connect two points in two different “Hyperspaces”, it will cost you F to build the connection. F can be defined as the following expression:<br><img style='max-width:100%;' src=./data/images/C190-1002-4.jpg><br>In addition, you can only create at most one connection between any two “Hyperspaces”.<br>If you want to connect two points in the same “Hyperspaces” whose “ID” is k, it will cost you G to build the connection. G can be defined as the following expression:<br><img style='max-width:100%;' src=./data/images/C190-1002-5.jpg><br>Here <br><img style='max-width:100%;' src=./data/images/C190-1002-6.jpg><br>Now your task is quite easy. <br>AekdyCoin gives you n “Hyperspaces”.<br>Then he gives you information about all the points in the “Hyperspaces”<br>Now he wants to know the minimal cost to connect all the points in all “Hyperspaces”<br><br><font color=#FF0000> you have to ensure that any two different points in the same &quot;Hyperspace&quot; could be connected directly or indirectly by the connections you build in this &quot;Hyperspace&quot;. </font> </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input consists of several test cases.<br>In the first line there is an integer n (1&lt;=n&lt;=100), indicating the number of “Hyperspaces”<br>Then follow an integer m (1&lt;=m&lt;=100000) <br>You can assume that the number of different points in every “Hyperspace” is always no larger than 100.<br>The next m lines contain the descriptions of all the points<br>All the descriptions are given in the following format x,y,z,id<br>Indicating the point (x,y,z) belongs to the id “Hyperspace”<br>id is an integer.<br>x,y,z are all real number with at most four fractional digits.<br>-10000&lt;=x,y,z&lt;=10000,1&lt;=id&lt;=n</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output the minimal cost on a single line.<br>Please round it to four fractional digits.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
2
1 2 1 1
1 3 1 1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1.0000</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=HDU+1st+%A1%B0Old-Vegetable-Birds+Cup%A1%B1+Programming+Open+Contest&source=1&searchmode=source"> HDU 1st “Old-Vegetable-Birds Cup” Programming Open Contest </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>