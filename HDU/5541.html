<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Build Towers</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5541. Build Towers</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：6000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：123456/123456 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Build towers on a game board is very interesting. Here we introduce one kind of game which is also building towers on the game board.<br><br> <center><img style='max-width:100%;' src=./data/images/5541-1.jpg></center><br><br>There are $n$  sticks on the game board. At the beginning of the game, we put plates of different colors on the sticks. There are $n-2$  different colors of plates. For each color, there are plates of size $0 , 1 , 2 , 3 , 4 , 5 , 6$ . One for each size. So totally there are $7(n-2)$  plates put on the sticks.<br><br>If a plate of size $x$  is put right above the plate of size $x+1$  of the same color, they are glued together and not able to be split any more. In other words, they must be moved together in the rest of the game.<br><br>For each move, we can only move the top plate of each stick, maybe it's glued with several other plates, so they will be moved together. We can only move them onto a stick that the top plate is in the same color with the moving one and is larger than the moving plates. Or we can move them onto an empty stick.<br><br>The goal of this game is to make $n-2$  towers on any of the $n-2$  different sticks. Each of them are made of $7$  plates in the order of $0 , 1 , 2 , 3 , 4 , 5 , 6$  from top to bottom.<br><br>Now you need to find the minimal number of moved to achieve this.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of the input gives the number of test cases, $T (1≤T≤20 )$. $T$  test cases follow. Each test case starts with number $n (n=8 )$, the number of sticks on the game board. Each of the next $n$  lines starts with a number $P_{i}  (1≤P_{i} ≤6 )$ represents the number of plates set on each stick. $P_{i}$ strings follow, each represents a plate set on that stick from bottom to top. The first character of the string represents the color and the rest represents the size or size range.<br><br>It's guaranteed that the number of colors equals $n-2$  and there are $7$  different plates for each color, $0$  to $6$ .<br><br>It's also guaranteed that there exists at least one solution for each test case<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output one line containing <b>Case #x: y</b>, where $x$  is the test case number (starting from $1$ ) and $y$  is the minimal number of moves to make $n-2$  complete towers.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
8
6 A0 B0 E1 C0 C5 F3
6 F6 D0 B4 E0 D6 C2
5 F0 B3 E5 C1 B5
5 D5 B1 E6 B2 A5
5 F1 A4 F4 D3 B6
5 A6 D2 E4 D1 C4
4 A1 E2-3 D4 A2
5 A3 C6 F5 C3 F2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: 47</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=The+2015+China+Collegiate+Programming+Contest&source=1&searchmode=source"> The 2015 China Collegiate Programming Contest </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>