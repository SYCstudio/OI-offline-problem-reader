<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Information</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4829. Information</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：6000/3000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">军情紧急，我们需要立刻开发出一个程序去处理前线侦察兵发回的情报，并做出相应的分析。现在由你负责其中的一个子模块，你需要根据情报计算出敌方坦克的位置。<br>当敌方坦克静止时，侦察兵会尽力估算出它们之间的位置，而每当敌方坦克移动时，侦察兵都会记录下坦克新的位置并向你报告。每个坦克的位置可以由一个二维整数坐标来描述。<br>前线发回的情报有四种格式：<br>1 A B X Y <br>表示A坦克移动到了与B坦克的相对位置是(X,Y)的地方，即X<sub>A</sub> = X<sub>B</sub> + X, Y<sub>A</sub>=Y<sub>B</sub>+Y。<br>2 A X Y<br>表示A坦克移动到了绝对位置是(X,Y)的地方，即X<sub>A</sub> = X, Y<sub>A</sub> = Y。<br>3 A B X Y<br>表示发现了A坦克与B坦克的相对位置是(X,Y)，即X<sub>A</sub> = X<sub>B</sub> + X, Y<sub>A</sub>=Y<sub>B</sub>+Y。<br>4 A X Y<br>表示发现了A坦克的绝对位置是(X,Y)，即X<sub>A</sub> = X, Y<sub>A</sub> = Y。<br>我们需要你对于如下两种询问及时做出回应：<br>5 A B<br>表示询问A坦克与B坦克的相对位置是多少，即分别求出X<sub>A</sub> - X<sub>B</sub> 以及Y<sub>A</sub> -Y<sub>B</sub>。<br>6 A<br>表示询问A坦克的绝对位置是多少，即求出X<sub>A</sub> 和Y<sub>A</sub>。<br>其中A和B代表的是任意的一个坦克的编号，(X,Y)表示了坦克的二维坐标。你可以假设初始时刻我们对于敌方任何坦克的位置都一无所知，在此之后坦克的每一次移动都被侦察兵侦察到了。<br>请注意两个坦克的坐标有可能相同。</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">输入的第一行是一个整数T（T &lt; 1000），表示共有T组数据。<br>对于每组数据，第一行有一个整数N，表示这组数据有N次查询。接下来的每行表示一次查询，每次查询第一个数字代表是哪种询问，询问的格式详见上文。<br>数据范围：<br>0 &lt; N &lt;=100000, 0&lt;A,B&lt;=N 且 A&lt;&gt;B, X和Y都是整数且 0 &lt;=X,Y&lt;=10000 .<br>测试数据中98%的数据N不超过50。</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">对于每组数据，首先需要输出单独一行”Case #?:”，其中问号处应填入当前的数据组数，组数从1开始计算。<br>对于每一个类型(1)或者(2)的询问，请把它们加入到你的记录中。<br>对于每一个类型(3)或者(4)的询问，如果与之前记录的内容有矛盾，请输出”REJECT”并将这个情报忽略掉，如没有矛盾，请把它们加入到你的记录中。<br>对于每一个类型(5)或者(6)的询问，如果根据之前的记录能推出结论，请输出两个整数X和Y，两个整数之间有一个空格；如果不能推出结论，请输出”UNKNOWN”。输出的所有信息都不包括引号。</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
7
1 1 2 3 4
2 3 4 5
3 4 5 2 1
4 6 2 2
3 2 4 6 2
5 4 1
6 3
6
6 3
4 3 2 2 
6 3
2 4 2 3
5 3 4
3 3 4 1 2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
-9 -6
4 5
Case #2:
UNKNOWN
2 2
0 -1
REJECT</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014%C4%EA%B0%D9%B6%C8%D6%AE%D0%C7%B3%CC%D0%F2%C9%E8%BC%C6%B4%F3%C8%FC+-+%B3%F5%C8%FC%A3%A8%B5%DA%D2%BB%C2%D6%A3%A9&source=1&searchmode=source"> 2014年百度之星程序设计大赛 - 初赛（第一轮） </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>