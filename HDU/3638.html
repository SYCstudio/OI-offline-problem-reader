<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Go , SuSu</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3638. Go , SuSu</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">When SuSu and his friends visited GanQuan village , something dangerous happened on them . They were trapped in a mysterious cave , what was worse ,there was a terrible monster lived in the cave , so they had to escape from the cave as quickly as possible . <br><center><img style='max-width:100%;' src=./data/images/C308-1007-1.jpg></center><br>But little monsters were also in the cave, as a result ,when SuSu was seen  by the little monsters ,they would notice their boss to catch SuSu back.<br>Little monsters' visual field is showed in figure A. The grid colored red represents where the monster stands, the arrow represents which direction the monster walk to ,and the grids colored blue and red represents where the very monster can see at this moment. The monsters often walks in a straight line, and when they faces a wall or the boundary of the maze in front of him, they will cost 1 seconds to turn back, and then walk back along the straight line, until reach a wall again. <br>If SuSu was seen by the monsters ,it's impossible for them to escape from the cave . SuSu needs your help , please tell him the minimum time he needs to walk from the start point to the exit of the cave , be careful not to be seen by the monsters. Every seconds SuSu can move upward downward leftward and rightward , and can also make no movement.<br><center><img style='max-width:100%;' src=./data/images/C308-1007-2.jpg></center> <br><center>Figure A</center></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of input gives the number of cases, T (at most 90).<br>the first line of each case has four numbers n,m. (2&lt;=n,m&lt;=50)<br>then n lines with m characters describe the maze<br>'A' represents the init position of SuSu.<br>'B' represents the exit position of the cave.<br>'.' represents the grids can be walked on.<br>'*' represents the wall which can not be stepped on.<br>Then follows a number  k (at most 50).<br>&nbsp;&nbsp;Next k lines with three integers x , y , d (1 &lt;= x &lt;= n,1 &lt;= y &lt;= m,1 &lt;= d &lt;= 4).represents a monster walking to d direction is in (x,y) positon (the top-left grid is (1,1) ) at 0 seconds . <br>&nbsp;&nbsp;The monster walks up when d == 1. walk down when d == 2.walk left when d == 3.walk right when d == 4.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">If SuSu can get to the exit in 1000 seconds ,output the minimum time he need. print &quot;胜败兵家事不期 卷土重来是大侠&quot; otherwise.<br>Following the case number (start with 1). </div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
3 4
*.*.
.A.B
***.
1
3 4 1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case 1: 2</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2010+ACM-ICPC+Multi-University+Training+Contest%A3%A819%A3%A9%A1%AA%A1%AAHost+by+HDU&source=1&searchmode=source"> 2010 ACM-ICPC Multi-University Training Contest（19）——Host by HDU </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>