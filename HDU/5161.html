<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Mathematics problem </title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5161. Mathematics problem </h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：12000/6000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Vivid is good at higher mathematics. So his classmates call him the little prince of higher mathematics. However, during the final exam of higher mathematics, he was got stuck with the last problem. So he may turn to you for help, if you do a good job you may get a generous remuneration. <br>Here is the statement of that problem.<br>Here is a differential equation about f(x), $\left\{\begin{matrix}{f{\left( x \right)}}^{&quot;}=f{\left( x \right)}\\ {f{\left( 0 \right)}=f{\left( 0 \right)}}^{'}=1\end{matrix}\right.$<br><br> , and  $g\left( x \right) = \frac{x}{{f\left( x \right) - 1}}$ , you are expected to calculate $\mathop {\lim }\limits_{x \to 0} {\kern 1pt} {\kern 1pt} {\kern 1pt} g{\left( x \right)^{\left( n \right)}}$ .$g{\left( x \right)^{\left( n \right)}}$ is the N derivative of   $g\left( x \right)$  , i.e. $\left\{ \begin{array}{l}<br>g{\left( x \right)^{\left( 0 \right)}} = g\left( x \right)\\<br>g{\left( x \right)^{\left( n \right)}} = {\left[ {g{{\left( x \right)}^{\left( {n - 1} \right)}}} \right]^\prime }{\kern 1pt} {\kern 1pt} {\kern 1pt} for{\kern 1pt} {\kern 1pt} {\kern 1pt} n{\kern 1pt} {\kern 1pt}  \ge 1<br>\end{array} \right.$ .<br>The result may be a fraction, but Vivid loves integer very much. So he designs a function ftoi(x) to turn a fraction into an integer.<br><br>ftoi(x)<br>{<br>&nbsp;&nbsp;MOD=1000000007;<br>&nbsp;&nbsp;sign=1;<br>&nbsp;&nbsp;if(x&lt;0)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;x=-x;<br>&nbsp;&nbsp;&nbsp;&nbsp;sign=-1;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;if(x is not simplest fraction)set x to the simplest fraction which equals to x;<br>&nbsp;&nbsp;up=numerator of x;<br>&nbsp;&nbsp;down=denominator of x;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;inv is the minimun non-negative integer which makes inv*down%MOD=1 hold;<br>&nbsp;&nbsp;(sometimes inv may not exist, but in this problem you can assume that there is no such case.)<br>&nbsp;&nbsp;return (inv*up*sign%MOD+MOD)%MOD;<br>}<br>For example ftoi(1)=1, ftoi(-1)= 1000000006, ftoi(-2/4)=ftoi(-1/2)= 500000003, ftoi(6/12)=ftoi(1/2)= 500000004</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Multi test cases (about 60000), each case will give n in a single line.<br>Process to the end of file.<br><br>[Technical Specification]<br>0&lt;=n&lt;65536</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each n, output $ftoi{\left( \mathop {\lim }\limits_{x \to 0} {\kern 1pt} {\kern 1pt} {\kern 1pt} g{\left( x \right)^{\left( n \right)}} \right)}$ in a single line.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">0
1</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
500000003</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=BestCoder+Round+%2326&source=1&searchmode=source"> BestCoder Round #26 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>