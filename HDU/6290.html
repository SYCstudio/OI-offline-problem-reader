<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>奢侈的旅行</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU6290. 奢侈的旅行</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：14000/7000 MS (Java/Others)</span> <span class="ui label">时间限制：512000/512000 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">高玩小Q不仅喜欢玩寻宝游戏，还喜欢一款升级养成类游戏。在这个游戏的世界地图中一共有$n$个城镇，编号依次为$1$到$n$。<br><br>这些城镇之间有$m$条单向道路，第$i$ 条单项道路包含四个参数$u_i,v_i,a_i,b_i$，表示一条从$u_i$号城镇出发，在$v_i$号城镇结束的单向道路，因为是单向道路，这不意味着小Q可以从$v_i$沿着该道路走到$u_i$。小Q的初始等级$level$为$1$，每当试图经过一条道路时，需要支付$cost=\log_2\frac{level+a_i}{level}$点积分，并且经过该道路后，小Q的等级会提升$a_i$级，到达$level+a_i$级。但是每条道路都会在一定意义上歧视低消费玩家，准确地说，如果该次所需积分$cost&lt;b_i$，那么小Q不能经过该次道路，也不能提升相应的等级。<br><br>注意：本游戏中等级为正整数，但是积分可以是任意实数。<br><br>小Q位于$1$号城镇，等级为$1$，现在为了做任务要到$n$号城镇去。这将会是一次奢侈的旅行，请写一个程序帮助小Q找到需要支付的总积分最少的一条路线，或判断这是不可能的。</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">第一行包含一个正整数$T(1\leq T\leq 30)$，表示测试数据的组数。<br><br>每组数据第一行包含两个整数$n,m(2\leq n\leq 100000,1\leq m\leq 200000)$，表示城镇数和道路数。<br><br>接下来$m$行，每行四个整数$u_i,v_i,a_i,b_i(1\leq u_i,v_i\leq n,u_i\neq v_i,0\leq a_i\leq 10^9,0\leq b_i\leq 60)$，分别表示每条单向道路。</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">对于每组数据，输出一行一个整数，即最少所需的总积分的整数部分，如：$4.9999$输出$4$，$1.0$输出$1$。若不存在合法路线请输出$-1$。</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
3 3
1 2 3 2
2 3 1 6
1 3 5 0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=%26quot%3B%D7%D6%BD%DA%CC%F8%B6%AF%B1%AD%26quot%3B2018%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC-%C5%AE%C9%FA%D7%A8%B3%A1&source=1&searchmode=source"> &quot;字节跳动杯&quot;2018中国大学生程序设计竞赛-女生专场 </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>