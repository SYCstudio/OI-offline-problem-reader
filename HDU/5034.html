<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Cowboy</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU5034. Cowboy</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：18000/9000 MS (Java/Others)</span> <span class="ui label">时间限制：262144/262144 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   There are N cowboys in the arena, tagged with 1 to N. The arena can be considered as an N * N grid.<br><br>   At first, every cowboy is standing on a grid point (lower left point is (1,1) and upper right is (N,N)). <br><br>   Then the god named Matt will give M orders to the cowboys. All orders look like this: <b>(i,dir,distance)</b> which means the i-th cowboy moving <b>distance</b> step in <b>dir</b> direction.<br><br>   And <b>dir</b> will be:<br><br>    ● '1' for East  ((x,y)-&gt;(x + 1, y) for one step)<br>    ● '2' for North ((x,y)-&gt;(x, y + 1) for one step)<br>    ● '3' for West  ((x,y)-&gt;(x - 1, y) for one step)<br>    ● '4' for South ((x,y)-&gt;(x, y - 1) for one step)<br><br>   Since the cowboys can't get out of the arena, they will stop moving if they reach the boundary of the arena.<br><br>   The cowboys are so aggressive that they always want to duel, but only the one that is moving can duel another cowboy. If a cowboy A is given an order, he will first turn his direction to the moving direction.<br><br>   Then A will look at both his left hand direction and right hand direction, and the point now he is standing. If someone B is insight, A and B will have a duel, and  the one with a smaller tag number will be the winner and loser will leave the arena, and A will stop moving immediately.<br><br>   If no one is insight, A will go one step and start looking again. The process will stop if someone is insight, or A has moved for 'distance' steps and no one is insight.<br><br>   Since the Cowboys' eyesight is not so good, they can only see someone if the distance between them is no more than D.<br><br>   Since all cowboys are confident, if there are more than one cowboy insight, they will choose to duel the one with the smallest tag number.<br><br>   Furthermore, Matt will give an order only if the previous cowboy has stopped. It's possible for more than one cowboy on one point. Nothing will happen if Matt gives an order to a cowboy that has left the arean.<br><br>   Now, given the initial location of the cowboys and the orders, we want to know the final situation of the arena.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   The first line of the input contains an integer T, denoting the number of testcases. Then T test cases follow.<br><br>   For each test case, the first line contains three integers:N,M,D(1&lt;=N&lt;= 50000,M&lt;=50000,0&lt;=D).<br><br>   In the following N lines, the i-th line contains two integers:X,Y (1&lt;=X, Y &lt;=N) indicating the initial location of the i-th cowboy.<br><br>   In the following M lines, the i-th line contains three integers:I,Dir,Dis(1&lt;=I &lt;=N, 1&lt;=Dir&lt;=4, 0&lt;=Dis&lt;=N) indicating the i-th order given by Matt.<br><br>   All the numbers appears in the input will not exceed 10^9.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">   For each test case, first output one line &quot;Case #x:&quot;, where x is the case number (starting from 1).<br><br>   Then for each cowboy that has not left the arena, output his tag number and final location in one line(Output in tag number order).</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
5 2 1
1 1
5 5
1 5
5 1
3 3
5 4 1
1 1 2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1:
1 3 1
2 5 5
3 1 5
4 5 1</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2014+ACM%2FICPC+Asia+Regional+Beijing+Online&source=1&searchmode=source"> 2014 ACM/ICPC Asia Regional Beijing Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>