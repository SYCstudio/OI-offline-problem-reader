<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Gunshots</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3684. Gunshots</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：10000/5000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">President Bartlet was shot!  A group of terrorists shot to the crowd when President Bartlet waved to cheering people after his address. Many people were shot by the irrational bullets. Senior FBI agent Don Epps takes responsibility for this case. According to a series of crime scene investigation, including analyzing shot shells, replaying video from closed-circle television and collecting testimony by witnesses, Don keeps all the information about where and how the terrorists shot to crowd, as well as the location of every single person when the gun shoot happened.  Now he wants to know how many gunshot victims are there in this case.<br><br>Imagine that each target person can be regarded as a polygon (can be concave or self-intersecting) and each gunshot can be regarded as a half-line. The bullet will be stopped by the first person it shoots. A person can be shot in three ways:<br><center><img style='max-width:100%;' src=./data/images/3684-1.gif></center> <br>To simplify the problem, we assume that any two polygons can be completely separated by a line. Also each start point of the gunshot can be separated from each polygon by a line. Now given M people and N gunshots, please work out which person has been shot by each bullet.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There are multiple test cases in the input. The first line of the input file is an integer T demonstrating the number of test cases. (T&lt;=10).<br><br>For each test case, the first line is an integer N, representing the number of people (polygons). Following lines demonstrates the polygons. For the ith polygon (0&lt;=i&lt;N), the first line is an integer Q<sub>i</sub>, representing the number of edges of this polygon. In each of the following Qi lines, there are two real numbers x<sub>i</sub> and y<sub>i</sub> representing a point. Every pair of adjacent points demonstrate an edge of this polygon (i.e. (x<sub>i</sub>, y<sub>i</sub>) to (x<sub>i+1</sub>, y<sub>i+1</sub>) is an edge, in which 0&lt;=i&lt;Q<sub>i</sub>-1), and (x<sub>Qi-1</sub>, y<sub>Qi-1</sub>) to (x<sub>0</sub>, y<sub>0</sub>) also demonstrates an edge of this polygon. <br><br>Then there is a line contains an integer M representing the number of gunshots. In the following M lines, each line contains four real numbers x, y, dx and dy, representing the start point (x, y) and direction vector (dx, dy) of that gunshot. <br><br>In all test cases, we assume that 0&lt; N&lt;=100, 0&lt;Q<sub>i</sub>&lt;=1000, 0&lt;M&lt;=10000. <br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output contains M lines and the i<sup>th</sup> line demonstrates the result of the i<sup>th</sup> gunshot. <br><br>If the i<sup>th</sup> gunshot shoots the j<sup>th</sup> polygon, the i<sup>th</sup> line contains “HIT j”, otherwise it contains a word “MISS” (means that it does not shoot any target). The polygons are numbered in the order of their appearance in the input file, and the numbers start from 0. <br><br>At the end of each test case, please output a single line with “*****”. <br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">1
1
4
0 0
1 1
0 1
1 0
2
-1 0 1 0
-2 0 -1 0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">HIT 0
MISS
*****

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>The figure of the first case in the samples is as follows:
<center><img src=./data/images/3684-2.gif'></center> </div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2010+Asia+Hangzhou+Regional+Contest+&source=1&searchmode=source"> 2010 Asia Hangzhou Regional Contest  </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>