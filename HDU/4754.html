<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Spacecraft Monitoring</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU4754. Spacecraft Monitoring</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：2000/1000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">&nbsp;&nbsp;In recent years, China's space industry has made rapid development, and recently launched the manned spacecraft shenzhou 10. Beauty Astronaut Wang Yaping even made a lesson in the spacecraft to the whole world. It means a lot to China's space communication. And the Nanjing University of Science and Technology also contribute their strength in communication, radar and detecting guidance.<br>&nbsp;&nbsp;Today, there have been many aircrafts in space, they are communicating with each other in air, or with the ground monitoring points in ground (including fixed and mobile monitoring point). To simplify the problem, we assume that all the aircrafts and ground monitoring points are all in the equatorial plane. Aircrafts are all in synchronous orbit, suppose the earth’s core as point (0, 0). We already know:<br>&nbsp;&nbsp;Every aircraft’s or ground monitoring point’s height R relative to the earth’s core, initial angle A (rad), and some communication relationship between them. <br>&nbsp;&nbsp;Also every aircraft’s or ground monitoring point’s cost price P.<br>&nbsp;&nbsp;And the ground-to-ground price per unit distance: dd, ground-to-air price per unit distance: dk (air-to-ground the same), air-to-air price per unit distance: kk.<br>&nbsp;&nbsp;In order to know the general condition of the system, you should calculate the maximal average cost price of some aircrafts or ground monitoring points. The average cost price = (the sum of aircrafts’ or ground monitoring points’ cost price + communication cost price between them if it's existing)/(the amount of the aircrafts or ground monitoring points)<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">&nbsp;&nbsp;Multiple cases, end with EOF;<br>&nbsp;&nbsp;The first line, 4 positive integers, n, dd, dk, kk, there is n aircrafts or ground monitoring points, dd, dk, kk is the same with description above. Remember that we first calculate the distance between two objects into integer, four to five homes in rounding, then calculate the communication cost price.<br><br>&nbsp;&nbsp;Next n lines, each represents an aircraft or ground monitoring point, <br>if the first letter is ‘d’, it means “ground monitoring point” in ground, <br>if the first letter is ‘k’, it means “aircraft”in air, <br>then R,A,P, described above.<br><br>&nbsp;&nbsp;Next an integer m, the amount of communication relationship.<br>&nbsp;&nbsp;Next m lines, each line is like x, B, y, C (1&lt;=B, C&lt;=n,  x, y = ‘d’ or ‘k’), represents object B is communicated with object C, B’s type is x, C’s type is y; B,C is the sequence number in particular kind ('d' or 'k') listed above, starts from 1.<br>&nbsp;&nbsp;1&lt;=n&lt;=300, 0&lt;=m&lt;=n*n, 1&lt;=dd,dk,kk&lt;=10^6, R、A are floating numbers, 0&lt;=R&lt;=1000, <br>0&lt;=A&lt;2*PI, 1&lt;=P&lt;=10^6。<br>&nbsp;&nbsp;PS: communication between two points is considered as a segment.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">&nbsp;&nbsp;After “Case #” + case number + ”: ”, case number starts from 1, Output 2 numbers, separated by a blank space, first is the maximal average cost price, next is the amount of this part. The result should be corrected to four decimal places.<br></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2 1000 2000 3000
d 2 0 1
d 3 0 4
1
d 1 d 2</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: 502.5000 2</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2013+ACM%2FICPC+Asia+Regional+Nanjing+Online&source=1&searchmode=source"> 2013 ACM/ICPC Asia Regional Nanjing Online </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>