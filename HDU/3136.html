<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Taunt Generation Simulator</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU3136. Taunt Generation Simulator</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：4000/2000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">In all the annals of knighthood, no personality trait has been in more dire need than the fortitude to withstand the diplomatically deleterious effects of a vicious, relentless taunting. Tasked with strengthening the mental endurance of Camelot’s knights, King Arthur's court decided that instructional taunting must be applied, yet it could not be delivered by the chivalrous administration. Thus, Sir Lancelot commanded a local anarcho-syndicalist peasant to write a program that generates taunts (a.k.a. mudslinging) thereby producing a script to test the patience of knights in a training environment. To prevent unbridled creativity in taunting from spoiling the otherwise stately proceedings of a nobleman’s education, the following rules designed by committee (The Round Table) must be adhered to:<br><pre><br>&lt;taunt&gt; ::= &lt;sentence&gt; | &lt;taunt&gt; &lt;sentence&gt; | &lt;noun&gt;! | &lt;sentence&gt;<br>&lt;sentence&gt; ::= &lt;past-rel&gt; &lt;noun-phrase&gt; | &lt;present-rel&gt; &lt;noun-phrase&gt; | &lt;past-rel&gt; &lt;article&gt; &lt;noun&gt;<br>&lt;noun-phrase&gt; ::= &lt;article&gt; &lt;modified-noun&gt;<br>&lt;modified-noun&gt; ::= &lt;noun&gt; | &lt;modifier&gt; &lt;noun&gt;<br>&lt;modifier&gt; ::= &lt;adjective&gt; | &lt;adverb&gt; &lt;adjective&gt;<br>&lt;present-rel&gt; ::= your &lt;present-person&gt; &lt;present-verb&gt;<br>&lt;past-rel&gt; ::= your &lt;past-person&gt; &lt;past-verb&gt;<br>&lt;present-person&gt; ::= steed | king | first-born<br>&lt;past-person&gt; ::= mother | father | grandmother | grandfather | godfather<br>&lt;noun&gt; ::= hamster | coconut | duck | herring | newt | peril | chicken | vole | parrot | mouse | twit<br>&lt;present-verb&gt; ::= is | “masquerades as”<br>&lt;past-verb&gt; ::= was | personified<br>&lt;article&gt; ::= a<br>&lt;adjective&gt; ::= silly | wicked | sordid | naughty | repulsive | malodorous | ill-tempered<br>&lt;adverb&gt; ::= conspicuously | categorically | positively | cruelly | incontrovertibly</pre><br>Note that all phrases in double quotes are to be treated as one word for taunt simulation output.<br><br>The number of taunts elicited at any given time is derived from the number of words spoken by the knight. For every three words (or fraction thereof) delivered by the knight, the generator produces one or more taunts in a theater-style script format. In the event that 2 taunts must be produced on a single line, they will be counted as 2 taunts towards the total required. By a mandate from the masses, a word will always contain at least one alphabetic character, and will be separated from other words by at least 1 space.<br><br>In exception to the above rules, whenever the program finds the holy grail, which is to say, the letters t-h-e-h-o-l-y-g-r-a-i-l (case insensitive) in that order in a line of input, then the first taunt generated will be displayed by the program as &quot;(A childish hand gesture)&quot;.<br><br>To ensure all royal quality assurance criteria are met, the program must be demonstrated by a simulation showing the taunts produced from a series of inputs. Each taunt is generated by applying the taunt generation rules until all of the &lt;...&gt; have been replaced with appropriate words. In most cases, you will face a choice of alternate rules for expanding a phrase name. In these cases, you should make a choice as follows: Suppose that this is the <b><i>k<sup>th</sup></i></b> such choice that you have faced for that rule since the start of program execution, and that you must choose one of <b><i>n</i></b> rules for expanding a given kind of phrase. Let the rules for that phrase be numbered from <b><i>1…n</i></b> in the order of appearance above, and then choose rule number <b><i>((k-1) mod n) + 1</i></b>.<br><br>Well, get on with it!</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The input will consist of an unspecified number of lines. Each line will contain a statement uttered by a knight consisting of letters, digits, the characters &quot;,.-!?&quot; and whitespace. Each line of input will be more than 1 character and less than 72 characters in length. All words will be separated by whitespace. Each statement will contain at least one word.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For every line of input, print a block of output containing the following:<br><ul><li>A single line containing &quot;Knight:&quot;, a space, and the input. Any appearance of whitespace inside the input will be replaced by a single space.</li><br><li>All taunts (as explained in the above rules) prefaced by &quot;Taunter:&quot; and a space, the taunt, and a period. Each word should be separated from neighboring words by a single space.</li><br><li>A blank line</li></ul>Each taunt should begin with a capital letter, and no extra characters should be added.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Hello!
Are you feeling alright?
Is there someone else I could talk to?
Anyone at all?
We seek the holy grail . . .</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Knight: Hello!
Taunter: Your mother was a hamster.

Knight: Are you feeling alright?
Taunter: Coconut! Your steed is a silly duck.

Knight: Is there someone else I could talk to?
Taunter: Your father personified a herring.
Taunter: Your grandmother was a newt.
Taunter: Peril! Your king masquerades as a conspicuously wicked chicken.

Knight: Anyone at all?
Taunter: Your grandfather personified a vole.

Knight: We seek the holy grail . . .
Taunter: (A childish hand gesture).
Taunter: Your godfather was a parrot.</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2006+ACM-ICPC+Pacific+Northwest+Region&source=1&searchmode=source"> 2006 ACM-ICPC Pacific Northwest Region </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>