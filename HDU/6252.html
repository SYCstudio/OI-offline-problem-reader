<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Subway Chasing</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU6252. Subway Chasing</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：6000/3000 MS (Java/Others)</span> <span class="ui label">时间限制：65536/65536 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">Mr. Panda and God Sheep are roommates and working in the same company. They always take subway to work together. There are $N$ subway stations on their route, numbered from 1 to $N$. Station 1 is their home and station $N$ is the company.<br>One day, Mr. Panda was getting up later. When he came to the station, God Sheep has departed $X$ minutes ago. Mr. Panda was very hurried, so he started to chat with God Sheep to communicate their positions. The content is when Mr. Panda is between station $A$ and $B$, God Sheep is just between station $C$ and $D$.<br>$B$ is equal to $A + 1$ which means Mr. Panda is between station $A$ and $A + 1$ exclusive, or $B$ is equal to $A$ which means Mr. Panda is exactly on station $A$. Vice versa for $C$ and $D$. What’s more, the communication can only be made no earlier than Mr. Panda departed and no later than God Sheep arrived.<br>After arriving at the company, Mr. Panda want to know how many minutes between each adjacent subway stations. Please note that the stop time at each station was ignored.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">The first line of the input gives the number of test cases, $T$. $T$ test cases follow.<br>Each test case starts with a line consists of 3 integers $N$, $M$ and $X$, indicating the number of stations, the number of chat contents and the minute interval between Mr. Panda and God Sheep. Then $M$ lines follow, each consists of 4 integers $A$, $B$, $C$, $D$, indicating each chat content.<br>$1 \leq T \leq 30$<br>$1 \leq N, M \leq 2000$<br>$1 \leq X \leq 10^9$<br>$1 \leq A, B, C, D \leq N$<br>$A \leq B \leq A + 1$<br>$C \leq D \leq C + 1$</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, output one line containing “Case #x: y”, where $x$ is the test case number (starting from 1) and $y$ is the minutes between stations in format $t_1, t_2, . . . , t_{N-1}$. $t_i$ represents the minutes between station $i$ and $i + 1$. If there are multiple solutions, output a solution that meets $0 &lt; t_i \leq 2 \times 10^9$. If there is no solution, output “IMPOSSIBLE” instead.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">2
4 3 2
1 1 2 3
2 3 2 3
2 3 3 4
4 2 2
1 2 3 4
2 3 2 3</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: 1 3 1
Case #2: IMPOSSIBLE
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
In the second test case, when God Sheep passed the third station, Mr. Panda hadn’t arrived the second station. 
They can not between the second station and the third station at the same time.
</div><i style='font-size:1px'> </i></div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2017%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC-%D7%DC%BE%F6%C8%FC-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%B9%FE%B9%A4%B4%F3%A3%A9&source=1&searchmode=source"> 2017中国大学生程序设计竞赛-总决赛-重现赛（感谢哈工大） </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>