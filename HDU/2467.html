<html><head><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Déjà vu</title></head><body><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">HDU2467. Déjà vu</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：30000/10000 MS (Java/Others)</span> <span class="ui label">时间限制：32768/32768 K (Java/Others)</span></div></div></br><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">An antique machine with C(n , 3) switches capable of processing integers in the range 0...2<sup>N</sup>-1 has just been discovered. Each switch is associated to a distinct integer in 0...2<sup>N</sup>-1 with exactly three ones in its binary representation. By setting switches associated with number X<sub>0</sub>,X<sub>1</sub>...X<sub>M-1</sub> to on, any integer Y passing through the machine will render a result of  Y⊕X<sub>0</sub>⊕X<sub>1</sub>⊕...⊕X<sub>M-1</sub>(here “⊕” stands for bitwise-XOR).<br>    Further inspections reveal that contrary to what we assumed in problem B, some of the switches on the machine are damaged due to their old age. We are interested in whether a configuration transforming integer S into T still exists, and if so, the minimum number of switches that have to be set to on to make it possible.<br>    WARNING: a naive algorithm might not be sufficient to solve this problem.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">There are multiple test cases in the input file.<br>Each test case starts with two integers, N and M ( 1 ≤ N ≤ 20), representing the number of bits and the number of functioning switches, respectively. Two integers, S and T ( 0 ≤ S,T &lt; 2<sup>N</sup>), come in the next line, followed by another M lines, the ith one describing the value Vi associated to the ith switch ( 0 ≤ V<sub>i</sub> &lt; 2<sup>N</sup>).<br>Two successive test cases are separated by a blank line. A case with N = 0 and M = 0 indicates the end of the input file, and should not be processed by your program.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">For each test case, please print a single integer, the minimum number of<br>operations, or “Impossible” (without quotes) if no feasible sequence exists.</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">6 7
55 21
11
22
25
56
41
49
28
5 2
0 21
22
28
0 0</code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">Case #1: 2
Case #2: Impossible</div></code></pre></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"> <a href="/search.php?field=problem&key=2008+Asia+Regional+Hangzhou&source=1&searchmode=source"> 2008 Asia Regional Hangzhou </a> </div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">OI-offline-problem-reader Powered by <a href="http://www.sycstudio.com">SYCstudio</a>.</span></div></div></div></body></html>